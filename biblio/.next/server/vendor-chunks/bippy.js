"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/bippy";
exports.ids = ["vendor-chunks/bippy"];
exports.modules = {

/***/ "(ssr)/./node_modules/bippy/dist/chunk-ZF32UKFC.js":
/*!***************************************************!*\
  !*** ./node_modules/bippy/dist/chunk-ZF32UKFC.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BIPPY_INSTRUMENTATION_STRING: () => (/* binding */ BIPPY_INSTRUMENTATION_STRING),\n/* harmony export */   CONCURRENT_MODE_NUMBER: () => (/* binding */ CONCURRENT_MODE_NUMBER),\n/* harmony export */   CONCURRENT_MODE_SYMBOL_STRING: () => (/* binding */ CONCURRENT_MODE_SYMBOL_STRING),\n/* harmony export */   ClassComponentTag: () => (/* binding */ ClassComponentTag),\n/* harmony export */   ContextConsumerTag: () => (/* binding */ ContextConsumerTag),\n/* harmony export */   DEPRECATED_ASYNC_MODE_SYMBOL_STRING: () => (/* binding */ DEPRECATED_ASYNC_MODE_SYMBOL_STRING),\n/* harmony export */   DehydratedSuspenseComponentTag: () => (/* binding */ DehydratedSuspenseComponentTag),\n/* harmony export */   ELEMENT_TYPE_SYMBOL_STRING: () => (/* binding */ ELEMENT_TYPE_SYMBOL_STRING),\n/* harmony export */   ForwardRefTag: () => (/* binding */ ForwardRefTag),\n/* harmony export */   FragmentTag: () => (/* binding */ FragmentTag),\n/* harmony export */   FunctionComponentTag: () => (/* binding */ FunctionComponentTag),\n/* harmony export */   HostComponentTag: () => (/* binding */ HostComponentTag),\n/* harmony export */   HostHoistableTag: () => (/* binding */ HostHoistableTag),\n/* harmony export */   HostRootTag: () => (/* binding */ HostRootTag),\n/* harmony export */   HostSingletonTag: () => (/* binding */ HostSingletonTag),\n/* harmony export */   HostTextTag: () => (/* binding */ HostTextTag),\n/* harmony export */   INSTALL_HOOK_SCRIPT_STRING: () => (/* binding */ INSTALL_HOOK_SCRIPT_STRING),\n/* harmony export */   LegacyHiddenComponentTag: () => (/* binding */ LegacyHiddenComponentTag),\n/* harmony export */   MemoComponentTag: () => (/* binding */ MemoComponentTag),\n/* harmony export */   OffscreenComponentTag: () => (/* binding */ OffscreenComponentTag),\n/* harmony export */   SimpleMemoComponentTag: () => (/* binding */ SimpleMemoComponentTag),\n/* harmony export */   SuspenseComponentTag: () => (/* binding */ SuspenseComponentTag),\n/* harmony export */   TRANSITIONAL_ELEMENT_TYPE_SYMBOL_STRING: () => (/* binding */ TRANSITIONAL_ELEMENT_TYPE_SYMBOL_STRING),\n/* harmony export */   createFiberVisitor: () => (/* binding */ createFiberVisitor),\n/* harmony export */   detectReactBuildType: () => (/* binding */ detectReactBuildType),\n/* harmony export */   didFiberCommit: () => (/* binding */ didFiberCommit),\n/* harmony export */   didFiberRender: () => (/* binding */ didFiberRender),\n/* harmony export */   fiberIdMap: () => (/* binding */ fiberIdMap),\n/* harmony export */   getDisplayName: () => (/* binding */ getDisplayName),\n/* harmony export */   getFiberFromHostInstance: () => (/* binding */ getFiberFromHostInstance),\n/* harmony export */   getFiberId: () => (/* binding */ getFiberId),\n/* harmony export */   getFiberStack: () => (/* binding */ getFiberStack),\n/* harmony export */   getMutatedHostFibers: () => (/* binding */ getMutatedHostFibers),\n/* harmony export */   getNearestHostFiber: () => (/* binding */ getNearestHostFiber),\n/* harmony export */   getNearestHostFibers: () => (/* binding */ getNearestHostFibers),\n/* harmony export */   getRDTHook: () => (/* binding */ getRDTHook),\n/* harmony export */   getTimings: () => (/* binding */ getTimings),\n/* harmony export */   getType: () => (/* binding */ getType),\n/* harmony export */   hasMemoCache: () => (/* binding */ hasMemoCache),\n/* harmony export */   hasRDTHook: () => (/* binding */ hasRDTHook),\n/* harmony export */   installRDTHook: () => (/* binding */ installRDTHook),\n/* harmony export */   instrument: () => (/* binding */ instrument),\n/* harmony export */   isCompositeFiber: () => (/* binding */ isCompositeFiber),\n/* harmony export */   isHostFiber: () => (/* binding */ isHostFiber),\n/* harmony export */   isInstrumentationActive: () => (/* binding */ isInstrumentationActive),\n/* harmony export */   isReactRefresh: () => (/* binding */ isReactRefresh),\n/* harmony export */   isRealReactDevtools: () => (/* binding */ isRealReactDevtools),\n/* harmony export */   isServiceWorkerRegistered: () => (/* binding */ isServiceWorkerRegistered),\n/* harmony export */   isValidElement: () => (/* binding */ isValidElement),\n/* harmony export */   isValidFiber: () => (/* binding */ isValidFiber),\n/* harmony export */   mountFiberRecursively: () => (/* binding */ mountFiberRecursively),\n/* harmony export */   onCommitFiberRoot: () => (/* binding */ onCommitFiberRoot),\n/* harmony export */   patchRDTHook: () => (/* binding */ patchRDTHook),\n/* harmony export */   secure: () => (/* binding */ secure),\n/* harmony export */   setFiberId: () => (/* binding */ setFiberId),\n/* harmony export */   shouldFilterFiber: () => (/* binding */ shouldFilterFiber),\n/* harmony export */   traverseContexts: () => (/* binding */ traverseContexts),\n/* harmony export */   traverseEffects: () => (/* binding */ traverseEffects),\n/* harmony export */   traverseFiber: () => (/* binding */ traverseFiber),\n/* harmony export */   traverseProps: () => (/* binding */ traverseProps),\n/* harmony export */   traverseRenderedFibers: () => (/* binding */ traverseRenderedFibers),\n/* harmony export */   traverseState: () => (/* binding */ traverseState),\n/* harmony export */   unmountFiber: () => (/* binding */ unmountFiber),\n/* harmony export */   unmountFiberChildrenRecursively: () => (/* binding */ unmountFiberChildrenRecursively),\n/* harmony export */   updateFiberRecursively: () => (/* binding */ updateFiberRecursively),\n/* harmony export */   version: () => (/* binding */ version)\n/* harmony export */ });\n/**\n * @license bippy\n *\n * Copyright (c) Aiden Bai, Million Software, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// src/rdt-hook.ts\nvar version = \"0.2.7\";\nvar BIPPY_INSTRUMENTATION_STRING = `bippy-${version}`;\nvar NO_OP = () => {\n};\nvar checkDCE = (fn) => {\n  try {\n    const code = Function.prototype.toString.call(fn);\n    if (code.indexOf(\"^_^\") > -1) {\n      setTimeout(() => {\n        throw new Error(\n          \"React is running in production mode, but dead code elimination has not been applied. Read how to correctly configure React for production: https://reactjs.org/link/perf-use-production-build\"\n        );\n      });\n    }\n  } catch {\n  }\n};\nvar isRealReactDevtools = (rdtHook = getRDTHook()) => {\n  return \"getFiberRoots\" in rdtHook;\n};\nvar isReactRefreshOverride = false;\nvar isReactRefresh = (rdtHook = getRDTHook()) => {\n  if (isReactRefreshOverride) return true;\n  return !(\"checkDCE\" in rdtHook);\n};\nvar installRDTHook = (onActive) => {\n  const renderers = /* @__PURE__ */ new Map();\n  let i = 0;\n  const rdtHook = {\n    checkDCE,\n    supportsFiber: true,\n    supportsFlight: true,\n    hasUnsupportedRendererAttached: false,\n    renderers,\n    onCommitFiberRoot: NO_OP,\n    onCommitFiberUnmount: NO_OP,\n    onPostCommitFiberRoot: NO_OP,\n    inject(renderer) {\n      const nextID = ++i;\n      renderers.set(nextID, renderer);\n      if (!rdtHook._instrumentationIsActive) {\n        rdtHook._instrumentationIsActive = true;\n        onActive?.();\n      }\n      return nextID;\n    },\n    _instrumentationSource: BIPPY_INSTRUMENTATION_STRING,\n    _instrumentationIsActive: false\n  };\n  try {\n    Object.defineProperty(globalThis, \"__REACT_DEVTOOLS_GLOBAL_HOOK__\", {\n      value: rdtHook\n    });\n  } catch {\n    patchRDTHook(onActive);\n  }\n  return rdtHook;\n};\nvar patchRDTHook = (onActive) => {\n  try {\n    const rdtHook = globalThis.__REACT_DEVTOOLS_GLOBAL_HOOK__;\n    if (!rdtHook._instrumentationSource) {\n      isReactRefreshOverride = isReactRefresh(rdtHook);\n      rdtHook.checkDCE = checkDCE;\n      rdtHook.supportsFiber = true;\n      rdtHook.supportsFlight = true;\n      rdtHook.hasUnsupportedRendererAttached = false;\n      rdtHook._instrumentationSource = BIPPY_INSTRUMENTATION_STRING;\n      rdtHook._instrumentationIsActive = true;\n    }\n  } catch {\n  }\n  onActive?.();\n};\nvar hasRDTHook = () => {\n  return Object.prototype.hasOwnProperty.call(\n    globalThis,\n    \"__REACT_DEVTOOLS_GLOBAL_HOOK__\"\n  );\n};\nvar getRDTHook = (onActive) => {\n  if (!hasRDTHook()) {\n    return installRDTHook(onActive);\n  }\n  patchRDTHook(onActive);\n  return globalThis.__REACT_DEVTOOLS_GLOBAL_HOOK__;\n};\nvar isRegistered = false;\nvar isServiceWorkerRegistered = () => {\n  return isRegistered;\n};\ntry {\n  if (typeof window !== \"undefined\" && // @ts-expect-error `document` may not be defined in some enviroments\n  (window.document?.createElement || window.navigator?.product === \"ReactNative\")) {\n    installRDTHook();\n    if (typeof navigator !== \"undefined\" && \"serviceWorker\" in navigator) {\n      navigator.serviceWorker.register(new URL(/* worker import */ __webpack_require__.p + __webpack_require__.u(0), __webpack_require__.b)).then(() => {\n        isRegistered = true;\n      }).catch(() => {\n      });\n    }\n  }\n} catch {\n}\nvar INSTALL_HOOK_SCRIPT_STRING = \"(()=>{try{var t=()=>{};const n=new Map;let o=0;globalThis.__REACT_DEVTOOLS_GLOBAL_HOOK__={checkDCE:t,supportsFiber:!0,supportsFlight:!0,hasUnsupportedRendererAttached:!1,renderers:n,onCommitFiberRoot:t,onCommitFiberUnmount:t,onPostCommitFiberRoot:t,inject(t){var e=++o;return n.set(e,t),globalThis.__REACT_DEVTOOLS_GLOBAL_HOOK__._instrumentationIsActive=!0,e},_instrumentationIsActive:!1}}catch{}})()\";\n\n// src/core.ts\nvar FunctionComponentTag = 0;\nvar ClassComponentTag = 1;\nvar HostRootTag = 3;\nvar HostComponentTag = 5;\nvar HostTextTag = 6;\nvar FragmentTag = 7;\nvar ContextConsumerTag = 9;\nvar ForwardRefTag = 11;\nvar SuspenseComponentTag = 13;\nvar MemoComponentTag = 14;\nvar SimpleMemoComponentTag = 15;\nvar DehydratedSuspenseComponentTag = 18;\nvar OffscreenComponentTag = 22;\nvar LegacyHiddenComponentTag = 23;\nvar HostHoistableTag = 26;\nvar HostSingletonTag = 27;\nvar CONCURRENT_MODE_NUMBER = 60111;\nvar ELEMENT_TYPE_SYMBOL_STRING = \"Symbol(react.element)\";\nvar TRANSITIONAL_ELEMENT_TYPE_SYMBOL_STRING = \"Symbol(react.transitional.element)\";\nvar CONCURRENT_MODE_SYMBOL_STRING = \"Symbol(react.concurrent_mode)\";\nvar DEPRECATED_ASYNC_MODE_SYMBOL_STRING = \"Symbol(react.async_mode)\";\nvar PerformedWork = 1;\nvar Placement = 2;\nvar Hydrating = 4096;\nvar Update = 4;\nvar Cloned = 8;\nvar ChildDeletion = 16;\nvar ContentReset = 32;\nvar Snapshot = 1024;\nvar Visibility = 8192;\nvar MutationMask = Placement | Update | ChildDeletion | ContentReset | Hydrating | Visibility | Snapshot;\nvar isValidElement = (element) => typeof element === \"object\" && element != null && \"$$typeof\" in element && // react 18 uses Symbol.for('react.element'), react 19 uses Symbol.for('react.transitional.element')\n[\n  ELEMENT_TYPE_SYMBOL_STRING,\n  TRANSITIONAL_ELEMENT_TYPE_SYMBOL_STRING\n].includes(String(element.$$typeof));\nvar isValidFiber = (fiber) => typeof fiber === \"object\" && fiber != null && \"tag\" in fiber && \"stateNode\" in fiber && \"return\" in fiber && \"child\" in fiber && \"sibling\" in fiber && \"flags\" in fiber;\nvar isHostFiber = (fiber) => {\n  switch (fiber.tag) {\n    case HostComponentTag:\n    // @ts-expect-error: it exists\n    case HostHoistableTag:\n    // @ts-expect-error: it exists\n    case HostSingletonTag:\n      return true;\n    default:\n      return typeof fiber.type === \"string\";\n  }\n};\nvar isCompositeFiber = (fiber) => {\n  switch (fiber.tag) {\n    case FunctionComponentTag:\n    case ClassComponentTag:\n    case SimpleMemoComponentTag:\n    case MemoComponentTag:\n    case ForwardRefTag:\n      return true;\n    default:\n      return false;\n  }\n};\nvar traverseContexts = (fiber, selector) => {\n  try {\n    const nextDependencies = fiber.dependencies;\n    const prevDependencies = fiber.alternate?.dependencies;\n    if (!nextDependencies || !prevDependencies) return false;\n    if (typeof nextDependencies !== \"object\" || !(\"firstContext\" in nextDependencies) || typeof prevDependencies !== \"object\" || !(\"firstContext\" in prevDependencies)) {\n      return false;\n    }\n    let nextContext = nextDependencies.firstContext;\n    let prevContext = prevDependencies.firstContext;\n    while (nextContext && typeof nextContext === \"object\" && \"memoizedValue\" in nextContext || prevContext && typeof prevContext === \"object\" && \"memoizedValue\" in prevContext) {\n      if (selector(nextContext, prevContext) === true) return true;\n      nextContext = nextContext?.next;\n      prevContext = prevContext?.next;\n    }\n  } catch {\n  }\n  return false;\n};\nvar traverseState = (fiber, selector) => {\n  try {\n    let nextState = fiber.memoizedState;\n    let prevState = fiber.alternate?.memoizedState;\n    while (nextState || prevState) {\n      if (selector(nextState, prevState) === true) return true;\n      nextState = nextState?.next;\n      prevState = prevState?.next;\n    }\n  } catch {\n  }\n  return false;\n};\nvar traverseEffects = (fiber, selector) => {\n  try {\n    let nextState = (\n      // biome-ignore lint/suspicious/noExplicitAny: underlying type is unknown\n      fiber.updateQueue?.lastEffect\n    );\n    let prevState = (\n      // biome-ignore lint/suspicious/noExplicitAny: underlying type is unknown\n      fiber.alternate?.updateQueue?.lastEffect\n    );\n    while (nextState || prevState) {\n      if (selector(nextState, prevState) === true) return true;\n      if (nextState?.next === nextState || prevState?.next === prevState) {\n        break;\n      }\n      nextState = nextState?.next;\n      prevState = prevState?.next;\n    }\n  } catch {\n  }\n  return false;\n};\nvar traverseProps = (fiber, selector) => {\n  try {\n    const nextProps = fiber.memoizedProps;\n    const prevProps = fiber.alternate?.memoizedProps || {};\n    const allKeys = /* @__PURE__ */ new Set([\n      ...Object.keys(prevProps),\n      ...Object.keys(nextProps)\n    ]);\n    for (const propName of allKeys) {\n      const prevValue = prevProps?.[propName];\n      const nextValue = nextProps?.[propName];\n      if (selector(propName, nextValue, prevValue) === true) return true;\n    }\n  } catch {\n  }\n  return false;\n};\nvar didFiberRender = (fiber) => {\n  const nextProps = fiber.memoizedProps;\n  const prevProps = fiber.alternate?.memoizedProps || {};\n  const flags = fiber.flags ?? fiber.effectTag ?? 0;\n  switch (fiber.tag) {\n    case ClassComponentTag:\n    case FunctionComponentTag:\n    case ContextConsumerTag:\n    case ForwardRefTag:\n    case MemoComponentTag:\n    case SimpleMemoComponentTag: {\n      return (flags & PerformedWork) === PerformedWork;\n    }\n    default:\n      if (!fiber.alternate) return true;\n      return prevProps !== nextProps || fiber.alternate.memoizedState !== fiber.memoizedState || fiber.alternate.ref !== fiber.ref;\n  }\n};\nvar didFiberCommit = (fiber) => {\n  return Boolean(\n    (fiber.flags & (MutationMask | Cloned)) !== 0 || (fiber.subtreeFlags & (MutationMask | Cloned)) !== 0\n  );\n};\nvar getMutatedHostFibers = (fiber) => {\n  const mutations = [];\n  const stack = [fiber];\n  while (stack.length) {\n    const node = stack.pop();\n    if (!node) continue;\n    if (isHostFiber(node) && didFiberCommit(node) && didFiberRender(node)) {\n      mutations.push(node);\n    }\n    if (node.child) stack.push(node.child);\n    if (node.sibling) stack.push(node.sibling);\n  }\n  return mutations;\n};\nvar getFiberStack = (fiber) => {\n  const stack = [];\n  let currentFiber = fiber;\n  while (currentFiber.return) {\n    stack.push(currentFiber);\n    currentFiber = currentFiber.return;\n  }\n  const newStack = new Array(stack.length);\n  for (let i = 0; i < stack.length; i++) {\n    newStack[i] = stack[stack.length - i - 1];\n  }\n  return newStack;\n};\nvar shouldFilterFiber = (fiber) => {\n  switch (fiber.tag) {\n    case DehydratedSuspenseComponentTag:\n      return true;\n    case HostTextTag:\n    case FragmentTag:\n    case LegacyHiddenComponentTag:\n    case OffscreenComponentTag:\n      return true;\n    case HostRootTag:\n      return false;\n    default: {\n      const symbolOrNumber = typeof fiber.type === \"object\" && fiber.type !== null ? fiber.type.$$typeof : fiber.type;\n      const typeSymbol = typeof symbolOrNumber === \"symbol\" ? symbolOrNumber.toString() : symbolOrNumber;\n      switch (typeSymbol) {\n        case CONCURRENT_MODE_NUMBER:\n        case CONCURRENT_MODE_SYMBOL_STRING:\n        case DEPRECATED_ASYNC_MODE_SYMBOL_STRING:\n          return true;\n        default:\n          return false;\n      }\n    }\n  }\n};\nvar getNearestHostFiber = (fiber, ascending = false) => {\n  let hostFiber = traverseFiber(fiber, isHostFiber, ascending);\n  if (!hostFiber) {\n    hostFiber = traverseFiber(fiber, isHostFiber, !ascending);\n  }\n  return hostFiber;\n};\nvar getNearestHostFibers = (fiber) => {\n  const hostFibers = [];\n  const stack = [];\n  if (isHostFiber(fiber)) {\n    hostFibers.push(fiber);\n  } else if (fiber.child) {\n    stack.push(fiber.child);\n  }\n  while (stack.length) {\n    const currentNode = stack.pop();\n    if (!currentNode) break;\n    if (isHostFiber(currentNode)) {\n      hostFibers.push(currentNode);\n    } else if (currentNode.child) {\n      stack.push(currentNode.child);\n    }\n    if (currentNode.sibling) {\n      stack.push(currentNode.sibling);\n    }\n  }\n  return hostFibers;\n};\nvar traverseFiber = (fiber, selector, ascending = false) => {\n  if (!fiber) return null;\n  if (selector(fiber) === true) return fiber;\n  let child = ascending ? fiber.return : fiber.child;\n  while (child) {\n    const match = traverseFiber(child, selector, ascending);\n    if (match) return match;\n    child = ascending ? null : child.sibling;\n  }\n  return null;\n};\nvar getTimings = (fiber) => {\n  const totalTime = fiber?.actualDuration ?? 0;\n  let selfTime = totalTime;\n  let child = fiber?.child ?? null;\n  while (totalTime > 0 && child != null) {\n    selfTime -= child.actualDuration ?? 0;\n    child = child.sibling;\n  }\n  return { selfTime, totalTime };\n};\nvar hasMemoCache = (fiber) => {\n  return Boolean(\n    fiber.updateQueue?.memoCache\n  );\n};\nvar getType = (type) => {\n  const currentType = type;\n  if (typeof currentType === \"function\") {\n    return currentType;\n  }\n  if (typeof currentType === \"object\" && currentType) {\n    return getType(\n      currentType.type || currentType.render\n    );\n  }\n  return null;\n};\nvar getDisplayName = (type) => {\n  const currentType = type;\n  if (typeof currentType !== \"function\" && !(typeof currentType === \"object\" && currentType)) {\n    return null;\n  }\n  const name = currentType.displayName || currentType.name || null;\n  if (name) return name;\n  const unwrappedType = getType(currentType);\n  if (!unwrappedType) return null;\n  return unwrappedType.displayName || unwrappedType.name || null;\n};\nvar detectReactBuildType = (renderer) => {\n  try {\n    if (typeof renderer.version === \"string\" && renderer.bundleType > 0) {\n      return \"development\";\n    }\n  } catch {\n  }\n  return \"production\";\n};\nvar isInstrumentationActive = () => {\n  const rdtHook = getRDTHook();\n  return Boolean(rdtHook._instrumentationIsActive) || isRealReactDevtools() || isReactRefresh();\n};\nvar fiberId = 0;\nvar fiberIdMap = /* @__PURE__ */ new WeakMap();\nvar setFiberId = (fiber, id = fiberId++) => {\n  fiberIdMap.set(fiber, id);\n};\nvar getFiberId = (fiber) => {\n  let id = fiberIdMap.get(fiber);\n  if (!id && fiber.alternate) {\n    id = fiberIdMap.get(fiber.alternate);\n  }\n  if (!id) {\n    id = fiberId++;\n    setFiberId(fiber, id);\n  }\n  return id;\n};\nvar mountFiberRecursively = (onRender, firstChild, traverseSiblings) => {\n  let fiber = firstChild;\n  while (fiber != null) {\n    if (!fiberIdMap.has(fiber)) {\n      getFiberId(fiber);\n    }\n    const shouldIncludeInTree = !shouldFilterFiber(fiber);\n    if (shouldIncludeInTree && didFiberRender(fiber)) {\n      onRender(fiber, \"mount\");\n    }\n    if (fiber.tag === SuspenseComponentTag) {\n      const isTimedOut = fiber.memoizedState !== null;\n      if (isTimedOut) {\n        const primaryChildFragment = fiber.child;\n        const fallbackChildFragment = primaryChildFragment ? primaryChildFragment.sibling : null;\n        if (fallbackChildFragment) {\n          const fallbackChild = fallbackChildFragment.child;\n          if (fallbackChild !== null) {\n            mountFiberRecursively(onRender, fallbackChild, false);\n          }\n        }\n      } else {\n        let primaryChild = null;\n        if (fiber.child !== null) {\n          primaryChild = fiber.child.child;\n        }\n        if (primaryChild !== null) {\n          mountFiberRecursively(onRender, primaryChild, false);\n        }\n      }\n    } else if (fiber.child != null) {\n      mountFiberRecursively(onRender, fiber.child, true);\n    }\n    fiber = traverseSiblings ? fiber.sibling : null;\n  }\n};\nvar updateFiberRecursively = (onRender, nextFiber, prevFiber, parentFiber) => {\n  if (!fiberIdMap.has(nextFiber)) {\n    getFiberId(nextFiber);\n  }\n  if (!prevFiber) return;\n  if (!fiberIdMap.has(prevFiber)) {\n    getFiberId(prevFiber);\n  }\n  const isSuspense = nextFiber.tag === SuspenseComponentTag;\n  const shouldIncludeInTree = !shouldFilterFiber(nextFiber);\n  if (shouldIncludeInTree && didFiberRender(nextFiber)) {\n    onRender(nextFiber, \"update\");\n  }\n  const prevDidTimeout = isSuspense && prevFiber.memoizedState !== null;\n  const nextDidTimeOut = isSuspense && nextFiber.memoizedState !== null;\n  if (prevDidTimeout && nextDidTimeOut) {\n    const nextFallbackChildSet = nextFiber.child?.sibling ?? null;\n    const prevFallbackChildSet = prevFiber.child?.sibling ?? null;\n    if (nextFallbackChildSet !== null && prevFallbackChildSet !== null) {\n      updateFiberRecursively(\n        onRender,\n        nextFallbackChildSet,\n        prevFallbackChildSet);\n    }\n  } else if (prevDidTimeout && !nextDidTimeOut) {\n    const nextPrimaryChildSet = nextFiber.child;\n    if (nextPrimaryChildSet !== null) {\n      mountFiberRecursively(onRender, nextPrimaryChildSet, true);\n    }\n  } else if (!prevDidTimeout && nextDidTimeOut) {\n    unmountFiberChildrenRecursively(onRender, prevFiber);\n    const nextFallbackChildSet = nextFiber.child?.sibling ?? null;\n    if (nextFallbackChildSet !== null) {\n      mountFiberRecursively(onRender, nextFallbackChildSet, true);\n    }\n  } else if (nextFiber.child !== prevFiber.child) {\n    let nextChild = nextFiber.child;\n    while (nextChild) {\n      if (nextChild.alternate) {\n        const prevChild = nextChild.alternate;\n        updateFiberRecursively(\n          onRender,\n          nextChild,\n          prevChild);\n      } else {\n        mountFiberRecursively(onRender, nextChild, false);\n      }\n      nextChild = nextChild.sibling;\n    }\n  }\n};\nvar unmountFiber = (onRender, fiber) => {\n  const isRoot = fiber.tag === HostRootTag;\n  if (isRoot || !shouldFilterFiber(fiber)) {\n    onRender(fiber, \"unmount\");\n  }\n};\nvar unmountFiberChildrenRecursively = (onRender, fiber) => {\n  const isTimedOutSuspense = fiber.tag === SuspenseComponentTag && fiber.memoizedState !== null;\n  let child = fiber.child;\n  if (isTimedOutSuspense) {\n    const primaryChildFragment = fiber.child;\n    const fallbackChildFragment = primaryChildFragment?.sibling ?? null;\n    child = fallbackChildFragment?.child ?? null;\n  }\n  while (child !== null) {\n    if (child.return !== null) {\n      unmountFiber(onRender, child);\n      unmountFiberChildrenRecursively(onRender, child);\n    }\n    child = child.sibling;\n  }\n};\nvar commitId = 0;\nvar rootInstanceMap = /* @__PURE__ */ new WeakMap();\nvar traverseRenderedFibers = (root, onRender) => {\n  const fiber = \"current\" in root ? root.current : root;\n  let rootInstance = rootInstanceMap.get(root);\n  if (!rootInstance) {\n    rootInstance = { prevFiber: null, id: commitId++ };\n    rootInstanceMap.set(root, rootInstance);\n  }\n  const { prevFiber } = rootInstance;\n  if (!fiber) {\n    unmountFiber(onRender, fiber);\n  } else if (prevFiber !== null) {\n    const wasMounted = prevFiber && prevFiber.memoizedState != null && prevFiber.memoizedState.element != null && // A dehydrated root is not considered mounted\n    prevFiber.memoizedState.isDehydrated !== true;\n    const isMounted = fiber.memoizedState != null && fiber.memoizedState.element != null && // A dehydrated root is not considered mounted\n    fiber.memoizedState.isDehydrated !== true;\n    if (!wasMounted && isMounted) {\n      mountFiberRecursively(onRender, fiber, false);\n    } else if (wasMounted && isMounted) {\n      updateFiberRecursively(onRender, fiber, fiber.alternate);\n    } else if (wasMounted && !isMounted) {\n      unmountFiber(onRender, fiber);\n    }\n  } else {\n    mountFiberRecursively(onRender, fiber, true);\n  }\n  rootInstance.prevFiber = fiber;\n};\nvar createFiberVisitor = ({\n  onRender\n}) => {\n  return (_rendererID, root, _state) => {\n    traverseRenderedFibers(root, onRender);\n  };\n};\nvar instrument = (options) => {\n  return getRDTHook(() => {\n    const rdtHook = getRDTHook();\n    options.onActive?.();\n    rdtHook._instrumentationSource = options.name ?? BIPPY_INSTRUMENTATION_STRING;\n    const prevOnCommitFiberRoot = rdtHook.onCommitFiberRoot;\n    if (options.onCommitFiberRoot) {\n      rdtHook.onCommitFiberRoot = (rendererID, root, priority) => {\n        if (prevOnCommitFiberRoot)\n          prevOnCommitFiberRoot(rendererID, root, priority);\n        options.onCommitFiberRoot?.(rendererID, root, priority);\n      };\n    }\n    const prevOnCommitFiberUnmount = rdtHook.onCommitFiberUnmount;\n    if (options.onCommitFiberUnmount) {\n      rdtHook.onCommitFiberUnmount = (rendererID, root) => {\n        if (prevOnCommitFiberUnmount)\n          prevOnCommitFiberUnmount(rendererID, root);\n        options.onCommitFiberUnmount?.(rendererID, root);\n      };\n    }\n    const prevOnPostCommitFiberRoot = rdtHook.onPostCommitFiberRoot;\n    if (options.onPostCommitFiberRoot) {\n      rdtHook.onPostCommitFiberRoot = (rendererID, root) => {\n        if (prevOnPostCommitFiberRoot)\n          prevOnPostCommitFiberRoot(rendererID, root);\n        options.onPostCommitFiberRoot?.(rendererID, root);\n      };\n    }\n  });\n};\nvar getFiberFromHostInstance = (hostInstance) => {\n  const rdtHook = getRDTHook();\n  for (const renderer of rdtHook.renderers.values()) {\n    try {\n      const fiber = renderer.findFiberByHostInstance?.(hostInstance);\n      if (fiber) return fiber;\n    } catch {\n    }\n  }\n  if (typeof hostInstance === \"object\" && hostInstance != null) {\n    if (\"_reactRootContainer\" in hostInstance) {\n      return hostInstance._reactRootContainer?._internalRoot?.current?.child;\n    }\n    for (const key in hostInstance) {\n      if (key.startsWith(\"__reactInternalInstance$\") || key.startsWith(\"__reactFiber\")) {\n        return hostInstance[key] || null;\n      }\n    }\n  }\n  return null;\n};\nvar secure = (options, secureOptions = {}) => {\n  const onActive = options.onActive;\n  const isRDTHookInstalled = hasRDTHook();\n  const isUsingRealReactDevtools = isRealReactDevtools();\n  const isUsingReactRefresh = isReactRefresh();\n  let timeout;\n  let isProduction = false;\n  options.onActive = () => {\n    clearTimeout(timeout);\n    let isSecure = true;\n    try {\n      onActive?.();\n      const rdtHook = getRDTHook();\n      for (const renderer of rdtHook.renderers.values()) {\n        const [majorVersion] = renderer.version.split(\".\");\n        if (Number(majorVersion) < (secureOptions.minReactMajorVersion ?? 17)) {\n          isSecure = false;\n        }\n        const buildType = detectReactBuildType(renderer);\n        if (buildType !== \"development\") {\n          isProduction = true;\n          if (!secureOptions.dangerouslyRunInProduction) {\n            isSecure = false;\n          }\n        }\n      }\n    } catch (err) {\n      secureOptions.onError?.(err);\n    }\n    if (!isSecure) {\n      options.onCommitFiberRoot = void 0;\n      options.onCommitFiberUnmount = void 0;\n      options.onPostCommitFiberRoot = void 0;\n      options.onActive = void 0;\n      return;\n    }\n    try {\n      const onCommitFiberRoot2 = options.onCommitFiberRoot;\n      if (onCommitFiberRoot2) {\n        options.onCommitFiberRoot = (rendererID, root, priority) => {\n          try {\n            onCommitFiberRoot2(rendererID, root, priority);\n          } catch (err) {\n            secureOptions.onError?.(err);\n          }\n        };\n      }\n      const onCommitFiberUnmount = options.onCommitFiberUnmount;\n      if (onCommitFiberUnmount) {\n        options.onCommitFiberUnmount = (rendererID, root) => {\n          try {\n            onCommitFiberUnmount(rendererID, root);\n          } catch (err) {\n            secureOptions.onError?.(err);\n          }\n        };\n      }\n      const onPostCommitFiberRoot = options.onPostCommitFiberRoot;\n      if (onPostCommitFiberRoot) {\n        options.onPostCommitFiberRoot = (rendererID, root) => {\n          try {\n            onPostCommitFiberRoot(rendererID, root);\n          } catch (err) {\n            secureOptions.onError?.(err);\n          }\n        };\n      }\n    } catch (err) {\n      secureOptions.onError?.(err);\n    }\n  };\n  if (!isRDTHookInstalled && !isUsingRealReactDevtools && !isUsingReactRefresh) {\n    timeout = setTimeout(() => {\n      if (!isProduction) {\n        secureOptions.onError?.();\n      }\n      stop();\n    }, secureOptions.installCheckTimeout ?? 100);\n  }\n  return options;\n};\nvar onCommitFiberRoot = (handler) => {\n  return instrument(\n    secure({\n      onCommitFiberRoot: (_, root) => {\n        handler(root);\n      }\n    })\n  );\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYmlwcHkvZGlzdC9jaHVuay1aRjMyVUtGQy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw0Q0FBNEMsUUFBUTtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQywyRkFBMEI7QUFDekU7QUFDQSxPQUFPO0FBQ1AsT0FBTztBQUNQO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQSx3Q0FBd0MsSUFBSSxhQUFhLGdCQUFnQixRQUFRLDJDQUEyQyx5S0FBeUssVUFBVSwwRkFBMEYsOEJBQThCLFFBQVE7O0FBRS9hO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isa0JBQWtCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EsVUFBVSxZQUFZO0FBQ3RCO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFK3ZDIiwic291cmNlcyI6WyJDOlxcbGFyc193b3JrXFxla3NhbWVuXFxiaWJsaW8tY2FzZVxcYmlibGlvXFxub2RlX21vZHVsZXNcXGJpcHB5XFxkaXN0XFxjaHVuay1aRjMyVUtGQy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlIGJpcHB5XG4gKlxuICogQ29weXJpZ2h0IChjKSBBaWRlbiBCYWksIE1pbGxpb24gU29mdHdhcmUsIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4vLyBzcmMvcmR0LWhvb2sudHNcbnZhciB2ZXJzaW9uID0gXCIwLjIuN1wiO1xudmFyIEJJUFBZX0lOU1RSVU1FTlRBVElPTl9TVFJJTkcgPSBgYmlwcHktJHt2ZXJzaW9ufWA7XG52YXIgTk9fT1AgPSAoKSA9PiB7XG59O1xudmFyIGNoZWNrRENFID0gKGZuKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgY29kZSA9IEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGZuKTtcbiAgICBpZiAoY29kZS5pbmRleE9mKFwiXl9eXCIpID4gLTEpIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgXCJSZWFjdCBpcyBydW5uaW5nIGluIHByb2R1Y3Rpb24gbW9kZSwgYnV0IGRlYWQgY29kZSBlbGltaW5hdGlvbiBoYXMgbm90IGJlZW4gYXBwbGllZC4gUmVhZCBob3cgdG8gY29ycmVjdGx5IGNvbmZpZ3VyZSBSZWFjdCBmb3IgcHJvZHVjdGlvbjogaHR0cHM6Ly9yZWFjdGpzLm9yZy9saW5rL3BlcmYtdXNlLXByb2R1Y3Rpb24tYnVpbGRcIlxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfVxuICB9IGNhdGNoIHtcbiAgfVxufTtcbnZhciBpc1JlYWxSZWFjdERldnRvb2xzID0gKHJkdEhvb2sgPSBnZXRSRFRIb29rKCkpID0+IHtcbiAgcmV0dXJuIFwiZ2V0RmliZXJSb290c1wiIGluIHJkdEhvb2s7XG59O1xudmFyIGlzUmVhY3RSZWZyZXNoT3ZlcnJpZGUgPSBmYWxzZTtcbnZhciBpc1JlYWN0UmVmcmVzaCA9IChyZHRIb29rID0gZ2V0UkRUSG9vaygpKSA9PiB7XG4gIGlmIChpc1JlYWN0UmVmcmVzaE92ZXJyaWRlKSByZXR1cm4gdHJ1ZTtcbiAgcmV0dXJuICEoXCJjaGVja0RDRVwiIGluIHJkdEhvb2spO1xufTtcbnZhciBpbnN0YWxsUkRUSG9vayA9IChvbkFjdGl2ZSkgPT4ge1xuICBjb25zdCByZW5kZXJlcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICBsZXQgaSA9IDA7XG4gIGNvbnN0IHJkdEhvb2sgPSB7XG4gICAgY2hlY2tEQ0UsXG4gICAgc3VwcG9ydHNGaWJlcjogdHJ1ZSxcbiAgICBzdXBwb3J0c0ZsaWdodDogdHJ1ZSxcbiAgICBoYXNVbnN1cHBvcnRlZFJlbmRlcmVyQXR0YWNoZWQ6IGZhbHNlLFxuICAgIHJlbmRlcmVycyxcbiAgICBvbkNvbW1pdEZpYmVyUm9vdDogTk9fT1AsXG4gICAgb25Db21taXRGaWJlclVubW91bnQ6IE5PX09QLFxuICAgIG9uUG9zdENvbW1pdEZpYmVyUm9vdDogTk9fT1AsXG4gICAgaW5qZWN0KHJlbmRlcmVyKSB7XG4gICAgICBjb25zdCBuZXh0SUQgPSArK2k7XG4gICAgICByZW5kZXJlcnMuc2V0KG5leHRJRCwgcmVuZGVyZXIpO1xuICAgICAgaWYgKCFyZHRIb29rLl9pbnN0cnVtZW50YXRpb25Jc0FjdGl2ZSkge1xuICAgICAgICByZHRIb29rLl9pbnN0cnVtZW50YXRpb25Jc0FjdGl2ZSA9IHRydWU7XG4gICAgICAgIG9uQWN0aXZlPy4oKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXh0SUQ7XG4gICAgfSxcbiAgICBfaW5zdHJ1bWVudGF0aW9uU291cmNlOiBCSVBQWV9JTlNUUlVNRU5UQVRJT05fU1RSSU5HLFxuICAgIF9pbnN0cnVtZW50YXRpb25Jc0FjdGl2ZTogZmFsc2VcbiAgfTtcbiAgdHJ5IHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZ2xvYmFsVGhpcywgXCJfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX19cIiwge1xuICAgICAgdmFsdWU6IHJkdEhvb2tcbiAgICB9KTtcbiAgfSBjYXRjaCB7XG4gICAgcGF0Y2hSRFRIb29rKG9uQWN0aXZlKTtcbiAgfVxuICByZXR1cm4gcmR0SG9vaztcbn07XG52YXIgcGF0Y2hSRFRIb29rID0gKG9uQWN0aXZlKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmR0SG9vayA9IGdsb2JhbFRoaXMuX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fO1xuICAgIGlmICghcmR0SG9vay5faW5zdHJ1bWVudGF0aW9uU291cmNlKSB7XG4gICAgICBpc1JlYWN0UmVmcmVzaE92ZXJyaWRlID0gaXNSZWFjdFJlZnJlc2gocmR0SG9vayk7XG4gICAgICByZHRIb29rLmNoZWNrRENFID0gY2hlY2tEQ0U7XG4gICAgICByZHRIb29rLnN1cHBvcnRzRmliZXIgPSB0cnVlO1xuICAgICAgcmR0SG9vay5zdXBwb3J0c0ZsaWdodCA9IHRydWU7XG4gICAgICByZHRIb29rLmhhc1Vuc3VwcG9ydGVkUmVuZGVyZXJBdHRhY2hlZCA9IGZhbHNlO1xuICAgICAgcmR0SG9vay5faW5zdHJ1bWVudGF0aW9uU291cmNlID0gQklQUFlfSU5TVFJVTUVOVEFUSU9OX1NUUklORztcbiAgICAgIHJkdEhvb2suX2luc3RydW1lbnRhdGlvbklzQWN0aXZlID0gdHJ1ZTtcbiAgICB9XG4gIH0gY2F0Y2gge1xuICB9XG4gIG9uQWN0aXZlPy4oKTtcbn07XG52YXIgaGFzUkRUSG9vayA9ICgpID0+IHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChcbiAgICBnbG9iYWxUaGlzLFxuICAgIFwiX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fXCJcbiAgKTtcbn07XG52YXIgZ2V0UkRUSG9vayA9IChvbkFjdGl2ZSkgPT4ge1xuICBpZiAoIWhhc1JEVEhvb2soKSkge1xuICAgIHJldHVybiBpbnN0YWxsUkRUSG9vayhvbkFjdGl2ZSk7XG4gIH1cbiAgcGF0Y2hSRFRIb29rKG9uQWN0aXZlKTtcbiAgcmV0dXJuIGdsb2JhbFRoaXMuX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fO1xufTtcbnZhciBpc1JlZ2lzdGVyZWQgPSBmYWxzZTtcbnZhciBpc1NlcnZpY2VXb3JrZXJSZWdpc3RlcmVkID0gKCkgPT4ge1xuICByZXR1cm4gaXNSZWdpc3RlcmVkO1xufTtcbnRyeSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIC8vIEB0cy1leHBlY3QtZXJyb3IgYGRvY3VtZW50YCBtYXkgbm90IGJlIGRlZmluZWQgaW4gc29tZSBlbnZpcm9tZW50c1xuICAod2luZG93LmRvY3VtZW50Py5jcmVhdGVFbGVtZW50IHx8IHdpbmRvdy5uYXZpZ2F0b3I/LnByb2R1Y3QgPT09IFwiUmVhY3ROYXRpdmVcIikpIHtcbiAgICBpbnN0YWxsUkRUSG9vaygpO1xuICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSBcInVuZGVmaW5lZFwiICYmIFwic2VydmljZVdvcmtlclwiIGluIG5hdmlnYXRvcikge1xuICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIobmV3IFVSTChcIi4vc3cuanNcIiwgaW1wb3J0Lm1ldGEudXJsKSkudGhlbigoKSA9PiB7XG4gICAgICAgIGlzUmVnaXN0ZXJlZCA9IHRydWU7XG4gICAgICB9KS5jYXRjaCgoKSA9PiB7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn0gY2F0Y2gge1xufVxudmFyIElOU1RBTExfSE9PS19TQ1JJUFRfU1RSSU5HID0gXCIoKCk9Pnt0cnl7dmFyIHQ9KCk9Pnt9O2NvbnN0IG49bmV3IE1hcDtsZXQgbz0wO2dsb2JhbFRoaXMuX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fPXtjaGVja0RDRTp0LHN1cHBvcnRzRmliZXI6ITAsc3VwcG9ydHNGbGlnaHQ6ITAsaGFzVW5zdXBwb3J0ZWRSZW5kZXJlckF0dGFjaGVkOiExLHJlbmRlcmVyczpuLG9uQ29tbWl0RmliZXJSb290OnQsb25Db21taXRGaWJlclVubW91bnQ6dCxvblBvc3RDb21taXRGaWJlclJvb3Q6dCxpbmplY3QodCl7dmFyIGU9KytvO3JldHVybiBuLnNldChlLHQpLGdsb2JhbFRoaXMuX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLl9pbnN0cnVtZW50YXRpb25Jc0FjdGl2ZT0hMCxlfSxfaW5zdHJ1bWVudGF0aW9uSXNBY3RpdmU6ITF9fWNhdGNoe319KSgpXCI7XG5cbi8vIHNyYy9jb3JlLnRzXG52YXIgRnVuY3Rpb25Db21wb25lbnRUYWcgPSAwO1xudmFyIENsYXNzQ29tcG9uZW50VGFnID0gMTtcbnZhciBIb3N0Um9vdFRhZyA9IDM7XG52YXIgSG9zdENvbXBvbmVudFRhZyA9IDU7XG52YXIgSG9zdFRleHRUYWcgPSA2O1xudmFyIEZyYWdtZW50VGFnID0gNztcbnZhciBDb250ZXh0Q29uc3VtZXJUYWcgPSA5O1xudmFyIEZvcndhcmRSZWZUYWcgPSAxMTtcbnZhciBTdXNwZW5zZUNvbXBvbmVudFRhZyA9IDEzO1xudmFyIE1lbW9Db21wb25lbnRUYWcgPSAxNDtcbnZhciBTaW1wbGVNZW1vQ29tcG9uZW50VGFnID0gMTU7XG52YXIgRGVoeWRyYXRlZFN1c3BlbnNlQ29tcG9uZW50VGFnID0gMTg7XG52YXIgT2Zmc2NyZWVuQ29tcG9uZW50VGFnID0gMjI7XG52YXIgTGVnYWN5SGlkZGVuQ29tcG9uZW50VGFnID0gMjM7XG52YXIgSG9zdEhvaXN0YWJsZVRhZyA9IDI2O1xudmFyIEhvc3RTaW5nbGV0b25UYWcgPSAyNztcbnZhciBDT05DVVJSRU5UX01PREVfTlVNQkVSID0gNjAxMTE7XG52YXIgRUxFTUVOVF9UWVBFX1NZTUJPTF9TVFJJTkcgPSBcIlN5bWJvbChyZWFjdC5lbGVtZW50KVwiO1xudmFyIFRSQU5TSVRJT05BTF9FTEVNRU5UX1RZUEVfU1lNQk9MX1NUUklORyA9IFwiU3ltYm9sKHJlYWN0LnRyYW5zaXRpb25hbC5lbGVtZW50KVwiO1xudmFyIENPTkNVUlJFTlRfTU9ERV9TWU1CT0xfU1RSSU5HID0gXCJTeW1ib2wocmVhY3QuY29uY3VycmVudF9tb2RlKVwiO1xudmFyIERFUFJFQ0FURURfQVNZTkNfTU9ERV9TWU1CT0xfU1RSSU5HID0gXCJTeW1ib2wocmVhY3QuYXN5bmNfbW9kZSlcIjtcbnZhciBQZXJmb3JtZWRXb3JrID0gMTtcbnZhciBQbGFjZW1lbnQgPSAyO1xudmFyIEh5ZHJhdGluZyA9IDQwOTY7XG52YXIgVXBkYXRlID0gNDtcbnZhciBDbG9uZWQgPSA4O1xudmFyIENoaWxkRGVsZXRpb24gPSAxNjtcbnZhciBDb250ZW50UmVzZXQgPSAzMjtcbnZhciBTbmFwc2hvdCA9IDEwMjQ7XG52YXIgVmlzaWJpbGl0eSA9IDgxOTI7XG52YXIgTXV0YXRpb25NYXNrID0gUGxhY2VtZW50IHwgVXBkYXRlIHwgQ2hpbGREZWxldGlvbiB8IENvbnRlbnRSZXNldCB8IEh5ZHJhdGluZyB8IFZpc2liaWxpdHkgfCBTbmFwc2hvdDtcbnZhciBpc1ZhbGlkRWxlbWVudCA9IChlbGVtZW50KSA9PiB0eXBlb2YgZWxlbWVudCA9PT0gXCJvYmplY3RcIiAmJiBlbGVtZW50ICE9IG51bGwgJiYgXCIkJHR5cGVvZlwiIGluIGVsZW1lbnQgJiYgLy8gcmVhY3QgMTggdXNlcyBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50JyksIHJlYWN0IDE5IHVzZXMgU3ltYm9sLmZvcigncmVhY3QudHJhbnNpdGlvbmFsLmVsZW1lbnQnKVxuW1xuICBFTEVNRU5UX1RZUEVfU1lNQk9MX1NUUklORyxcbiAgVFJBTlNJVElPTkFMX0VMRU1FTlRfVFlQRV9TWU1CT0xfU1RSSU5HXG5dLmluY2x1ZGVzKFN0cmluZyhlbGVtZW50LiQkdHlwZW9mKSk7XG52YXIgaXNWYWxpZEZpYmVyID0gKGZpYmVyKSA9PiB0eXBlb2YgZmliZXIgPT09IFwib2JqZWN0XCIgJiYgZmliZXIgIT0gbnVsbCAmJiBcInRhZ1wiIGluIGZpYmVyICYmIFwic3RhdGVOb2RlXCIgaW4gZmliZXIgJiYgXCJyZXR1cm5cIiBpbiBmaWJlciAmJiBcImNoaWxkXCIgaW4gZmliZXIgJiYgXCJzaWJsaW5nXCIgaW4gZmliZXIgJiYgXCJmbGFnc1wiIGluIGZpYmVyO1xudmFyIGlzSG9zdEZpYmVyID0gKGZpYmVyKSA9PiB7XG4gIHN3aXRjaCAoZmliZXIudGFnKSB7XG4gICAgY2FzZSBIb3N0Q29tcG9uZW50VGFnOlxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IGl0IGV4aXN0c1xuICAgIGNhc2UgSG9zdEhvaXN0YWJsZVRhZzpcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiBpdCBleGlzdHNcbiAgICBjYXNlIEhvc3RTaW5nbGV0b25UYWc6XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHR5cGVvZiBmaWJlci50eXBlID09PSBcInN0cmluZ1wiO1xuICB9XG59O1xudmFyIGlzQ29tcG9zaXRlRmliZXIgPSAoZmliZXIpID0+IHtcbiAgc3dpdGNoIChmaWJlci50YWcpIHtcbiAgICBjYXNlIEZ1bmN0aW9uQ29tcG9uZW50VGFnOlxuICAgIGNhc2UgQ2xhc3NDb21wb25lbnRUYWc6XG4gICAgY2FzZSBTaW1wbGVNZW1vQ29tcG9uZW50VGFnOlxuICAgIGNhc2UgTWVtb0NvbXBvbmVudFRhZzpcbiAgICBjYXNlIEZvcndhcmRSZWZUYWc6XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xudmFyIHRyYXZlcnNlQ29udGV4dHMgPSAoZmliZXIsIHNlbGVjdG9yKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgbmV4dERlcGVuZGVuY2llcyA9IGZpYmVyLmRlcGVuZGVuY2llcztcbiAgICBjb25zdCBwcmV2RGVwZW5kZW5jaWVzID0gZmliZXIuYWx0ZXJuYXRlPy5kZXBlbmRlbmNpZXM7XG4gICAgaWYgKCFuZXh0RGVwZW5kZW5jaWVzIHx8ICFwcmV2RGVwZW5kZW5jaWVzKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHR5cGVvZiBuZXh0RGVwZW5kZW5jaWVzICE9PSBcIm9iamVjdFwiIHx8ICEoXCJmaXJzdENvbnRleHRcIiBpbiBuZXh0RGVwZW5kZW5jaWVzKSB8fCB0eXBlb2YgcHJldkRlcGVuZGVuY2llcyAhPT0gXCJvYmplY3RcIiB8fCAhKFwiZmlyc3RDb250ZXh0XCIgaW4gcHJldkRlcGVuZGVuY2llcykpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgbGV0IG5leHRDb250ZXh0ID0gbmV4dERlcGVuZGVuY2llcy5maXJzdENvbnRleHQ7XG4gICAgbGV0IHByZXZDb250ZXh0ID0gcHJldkRlcGVuZGVuY2llcy5maXJzdENvbnRleHQ7XG4gICAgd2hpbGUgKG5leHRDb250ZXh0ICYmIHR5cGVvZiBuZXh0Q29udGV4dCA9PT0gXCJvYmplY3RcIiAmJiBcIm1lbW9pemVkVmFsdWVcIiBpbiBuZXh0Q29udGV4dCB8fCBwcmV2Q29udGV4dCAmJiB0eXBlb2YgcHJldkNvbnRleHQgPT09IFwib2JqZWN0XCIgJiYgXCJtZW1vaXplZFZhbHVlXCIgaW4gcHJldkNvbnRleHQpIHtcbiAgICAgIGlmIChzZWxlY3RvcihuZXh0Q29udGV4dCwgcHJldkNvbnRleHQpID09PSB0cnVlKSByZXR1cm4gdHJ1ZTtcbiAgICAgIG5leHRDb250ZXh0ID0gbmV4dENvbnRleHQ/Lm5leHQ7XG4gICAgICBwcmV2Q29udGV4dCA9IHByZXZDb250ZXh0Py5uZXh0O1xuICAgIH1cbiAgfSBjYXRjaCB7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcbnZhciB0cmF2ZXJzZVN0YXRlID0gKGZpYmVyLCBzZWxlY3RvcikgPT4ge1xuICB0cnkge1xuICAgIGxldCBuZXh0U3RhdGUgPSBmaWJlci5tZW1vaXplZFN0YXRlO1xuICAgIGxldCBwcmV2U3RhdGUgPSBmaWJlci5hbHRlcm5hdGU/Lm1lbW9pemVkU3RhdGU7XG4gICAgd2hpbGUgKG5leHRTdGF0ZSB8fCBwcmV2U3RhdGUpIHtcbiAgICAgIGlmIChzZWxlY3RvcihuZXh0U3RhdGUsIHByZXZTdGF0ZSkgPT09IHRydWUpIHJldHVybiB0cnVlO1xuICAgICAgbmV4dFN0YXRlID0gbmV4dFN0YXRlPy5uZXh0O1xuICAgICAgcHJldlN0YXRlID0gcHJldlN0YXRlPy5uZXh0O1xuICAgIH1cbiAgfSBjYXRjaCB7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcbnZhciB0cmF2ZXJzZUVmZmVjdHMgPSAoZmliZXIsIHNlbGVjdG9yKSA9PiB7XG4gIHRyeSB7XG4gICAgbGV0IG5leHRTdGF0ZSA9IChcbiAgICAgIC8vIGJpb21lLWlnbm9yZSBsaW50L3N1c3BpY2lvdXMvbm9FeHBsaWNpdEFueTogdW5kZXJseWluZyB0eXBlIGlzIHVua25vd25cbiAgICAgIGZpYmVyLnVwZGF0ZVF1ZXVlPy5sYXN0RWZmZWN0XG4gICAgKTtcbiAgICBsZXQgcHJldlN0YXRlID0gKFxuICAgICAgLy8gYmlvbWUtaWdub3JlIGxpbnQvc3VzcGljaW91cy9ub0V4cGxpY2l0QW55OiB1bmRlcmx5aW5nIHR5cGUgaXMgdW5rbm93blxuICAgICAgZmliZXIuYWx0ZXJuYXRlPy51cGRhdGVRdWV1ZT8ubGFzdEVmZmVjdFxuICAgICk7XG4gICAgd2hpbGUgKG5leHRTdGF0ZSB8fCBwcmV2U3RhdGUpIHtcbiAgICAgIGlmIChzZWxlY3RvcihuZXh0U3RhdGUsIHByZXZTdGF0ZSkgPT09IHRydWUpIHJldHVybiB0cnVlO1xuICAgICAgaWYgKG5leHRTdGF0ZT8ubmV4dCA9PT0gbmV4dFN0YXRlIHx8IHByZXZTdGF0ZT8ubmV4dCA9PT0gcHJldlN0YXRlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgbmV4dFN0YXRlID0gbmV4dFN0YXRlPy5uZXh0O1xuICAgICAgcHJldlN0YXRlID0gcHJldlN0YXRlPy5uZXh0O1xuICAgIH1cbiAgfSBjYXRjaCB7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcbnZhciB0cmF2ZXJzZVByb3BzID0gKGZpYmVyLCBzZWxlY3RvcikgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IG5leHRQcm9wcyA9IGZpYmVyLm1lbW9pemVkUHJvcHM7XG4gICAgY29uc3QgcHJldlByb3BzID0gZmliZXIuYWx0ZXJuYXRlPy5tZW1vaXplZFByb3BzIHx8IHt9O1xuICAgIGNvbnN0IGFsbEtleXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldChbXG4gICAgICAuLi5PYmplY3Qua2V5cyhwcmV2UHJvcHMpLFxuICAgICAgLi4uT2JqZWN0LmtleXMobmV4dFByb3BzKVxuICAgIF0pO1xuICAgIGZvciAoY29uc3QgcHJvcE5hbWUgb2YgYWxsS2V5cykge1xuICAgICAgY29uc3QgcHJldlZhbHVlID0gcHJldlByb3BzPy5bcHJvcE5hbWVdO1xuICAgICAgY29uc3QgbmV4dFZhbHVlID0gbmV4dFByb3BzPy5bcHJvcE5hbWVdO1xuICAgICAgaWYgKHNlbGVjdG9yKHByb3BOYW1lLCBuZXh0VmFsdWUsIHByZXZWYWx1ZSkgPT09IHRydWUpIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSBjYXRjaCB7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcbnZhciBkaWRGaWJlclJlbmRlciA9IChmaWJlcikgPT4ge1xuICBjb25zdCBuZXh0UHJvcHMgPSBmaWJlci5tZW1vaXplZFByb3BzO1xuICBjb25zdCBwcmV2UHJvcHMgPSBmaWJlci5hbHRlcm5hdGU/Lm1lbW9pemVkUHJvcHMgfHwge307XG4gIGNvbnN0IGZsYWdzID0gZmliZXIuZmxhZ3MgPz8gZmliZXIuZWZmZWN0VGFnID8/IDA7XG4gIHN3aXRjaCAoZmliZXIudGFnKSB7XG4gICAgY2FzZSBDbGFzc0NvbXBvbmVudFRhZzpcbiAgICBjYXNlIEZ1bmN0aW9uQ29tcG9uZW50VGFnOlxuICAgIGNhc2UgQ29udGV4dENvbnN1bWVyVGFnOlxuICAgIGNhc2UgRm9yd2FyZFJlZlRhZzpcbiAgICBjYXNlIE1lbW9Db21wb25lbnRUYWc6XG4gICAgY2FzZSBTaW1wbGVNZW1vQ29tcG9uZW50VGFnOiB7XG4gICAgICByZXR1cm4gKGZsYWdzICYgUGVyZm9ybWVkV29yaykgPT09IFBlcmZvcm1lZFdvcms7XG4gICAgfVxuICAgIGRlZmF1bHQ6XG4gICAgICBpZiAoIWZpYmVyLmFsdGVybmF0ZSkgcmV0dXJuIHRydWU7XG4gICAgICByZXR1cm4gcHJldlByb3BzICE9PSBuZXh0UHJvcHMgfHwgZmliZXIuYWx0ZXJuYXRlLm1lbW9pemVkU3RhdGUgIT09IGZpYmVyLm1lbW9pemVkU3RhdGUgfHwgZmliZXIuYWx0ZXJuYXRlLnJlZiAhPT0gZmliZXIucmVmO1xuICB9XG59O1xudmFyIGRpZEZpYmVyQ29tbWl0ID0gKGZpYmVyKSA9PiB7XG4gIHJldHVybiBCb29sZWFuKFxuICAgIChmaWJlci5mbGFncyAmIChNdXRhdGlvbk1hc2sgfCBDbG9uZWQpKSAhPT0gMCB8fCAoZmliZXIuc3VidHJlZUZsYWdzICYgKE11dGF0aW9uTWFzayB8IENsb25lZCkpICE9PSAwXG4gICk7XG59O1xudmFyIGdldE11dGF0ZWRIb3N0RmliZXJzID0gKGZpYmVyKSA9PiB7XG4gIGNvbnN0IG11dGF0aW9ucyA9IFtdO1xuICBjb25zdCBzdGFjayA9IFtmaWJlcl07XG4gIHdoaWxlIChzdGFjay5sZW5ndGgpIHtcbiAgICBjb25zdCBub2RlID0gc3RhY2sucG9wKCk7XG4gICAgaWYgKCFub2RlKSBjb250aW51ZTtcbiAgICBpZiAoaXNIb3N0RmliZXIobm9kZSkgJiYgZGlkRmliZXJDb21taXQobm9kZSkgJiYgZGlkRmliZXJSZW5kZXIobm9kZSkpIHtcbiAgICAgIG11dGF0aW9ucy5wdXNoKG5vZGUpO1xuICAgIH1cbiAgICBpZiAobm9kZS5jaGlsZCkgc3RhY2sucHVzaChub2RlLmNoaWxkKTtcbiAgICBpZiAobm9kZS5zaWJsaW5nKSBzdGFjay5wdXNoKG5vZGUuc2libGluZyk7XG4gIH1cbiAgcmV0dXJuIG11dGF0aW9ucztcbn07XG52YXIgZ2V0RmliZXJTdGFjayA9IChmaWJlcikgPT4ge1xuICBjb25zdCBzdGFjayA9IFtdO1xuICBsZXQgY3VycmVudEZpYmVyID0gZmliZXI7XG4gIHdoaWxlIChjdXJyZW50RmliZXIucmV0dXJuKSB7XG4gICAgc3RhY2sucHVzaChjdXJyZW50RmliZXIpO1xuICAgIGN1cnJlbnRGaWJlciA9IGN1cnJlbnRGaWJlci5yZXR1cm47XG4gIH1cbiAgY29uc3QgbmV3U3RhY2sgPSBuZXcgQXJyYXkoc3RhY2subGVuZ3RoKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xuICAgIG5ld1N0YWNrW2ldID0gc3RhY2tbc3RhY2subGVuZ3RoIC0gaSAtIDFdO1xuICB9XG4gIHJldHVybiBuZXdTdGFjaztcbn07XG52YXIgc2hvdWxkRmlsdGVyRmliZXIgPSAoZmliZXIpID0+IHtcbiAgc3dpdGNoIChmaWJlci50YWcpIHtcbiAgICBjYXNlIERlaHlkcmF0ZWRTdXNwZW5zZUNvbXBvbmVudFRhZzpcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGNhc2UgSG9zdFRleHRUYWc6XG4gICAgY2FzZSBGcmFnbWVudFRhZzpcbiAgICBjYXNlIExlZ2FjeUhpZGRlbkNvbXBvbmVudFRhZzpcbiAgICBjYXNlIE9mZnNjcmVlbkNvbXBvbmVudFRhZzpcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGNhc2UgSG9zdFJvb3RUYWc6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgZGVmYXVsdDoge1xuICAgICAgY29uc3Qgc3ltYm9sT3JOdW1iZXIgPSB0eXBlb2YgZmliZXIudHlwZSA9PT0gXCJvYmplY3RcIiAmJiBmaWJlci50eXBlICE9PSBudWxsID8gZmliZXIudHlwZS4kJHR5cGVvZiA6IGZpYmVyLnR5cGU7XG4gICAgICBjb25zdCB0eXBlU3ltYm9sID0gdHlwZW9mIHN5bWJvbE9yTnVtYmVyID09PSBcInN5bWJvbFwiID8gc3ltYm9sT3JOdW1iZXIudG9TdHJpbmcoKSA6IHN5bWJvbE9yTnVtYmVyO1xuICAgICAgc3dpdGNoICh0eXBlU3ltYm9sKSB7XG4gICAgICAgIGNhc2UgQ09OQ1VSUkVOVF9NT0RFX05VTUJFUjpcbiAgICAgICAgY2FzZSBDT05DVVJSRU5UX01PREVfU1lNQk9MX1NUUklORzpcbiAgICAgICAgY2FzZSBERVBSRUNBVEVEX0FTWU5DX01PREVfU1lNQk9MX1NUUklORzpcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xudmFyIGdldE5lYXJlc3RIb3N0RmliZXIgPSAoZmliZXIsIGFzY2VuZGluZyA9IGZhbHNlKSA9PiB7XG4gIGxldCBob3N0RmliZXIgPSB0cmF2ZXJzZUZpYmVyKGZpYmVyLCBpc0hvc3RGaWJlciwgYXNjZW5kaW5nKTtcbiAgaWYgKCFob3N0RmliZXIpIHtcbiAgICBob3N0RmliZXIgPSB0cmF2ZXJzZUZpYmVyKGZpYmVyLCBpc0hvc3RGaWJlciwgIWFzY2VuZGluZyk7XG4gIH1cbiAgcmV0dXJuIGhvc3RGaWJlcjtcbn07XG52YXIgZ2V0TmVhcmVzdEhvc3RGaWJlcnMgPSAoZmliZXIpID0+IHtcbiAgY29uc3QgaG9zdEZpYmVycyA9IFtdO1xuICBjb25zdCBzdGFjayA9IFtdO1xuICBpZiAoaXNIb3N0RmliZXIoZmliZXIpKSB7XG4gICAgaG9zdEZpYmVycy5wdXNoKGZpYmVyKTtcbiAgfSBlbHNlIGlmIChmaWJlci5jaGlsZCkge1xuICAgIHN0YWNrLnB1c2goZmliZXIuY2hpbGQpO1xuICB9XG4gIHdoaWxlIChzdGFjay5sZW5ndGgpIHtcbiAgICBjb25zdCBjdXJyZW50Tm9kZSA9IHN0YWNrLnBvcCgpO1xuICAgIGlmICghY3VycmVudE5vZGUpIGJyZWFrO1xuICAgIGlmIChpc0hvc3RGaWJlcihjdXJyZW50Tm9kZSkpIHtcbiAgICAgIGhvc3RGaWJlcnMucHVzaChjdXJyZW50Tm9kZSk7XG4gICAgfSBlbHNlIGlmIChjdXJyZW50Tm9kZS5jaGlsZCkge1xuICAgICAgc3RhY2sucHVzaChjdXJyZW50Tm9kZS5jaGlsZCk7XG4gICAgfVxuICAgIGlmIChjdXJyZW50Tm9kZS5zaWJsaW5nKSB7XG4gICAgICBzdGFjay5wdXNoKGN1cnJlbnROb2RlLnNpYmxpbmcpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gaG9zdEZpYmVycztcbn07XG52YXIgdHJhdmVyc2VGaWJlciA9IChmaWJlciwgc2VsZWN0b3IsIGFzY2VuZGluZyA9IGZhbHNlKSA9PiB7XG4gIGlmICghZmliZXIpIHJldHVybiBudWxsO1xuICBpZiAoc2VsZWN0b3IoZmliZXIpID09PSB0cnVlKSByZXR1cm4gZmliZXI7XG4gIGxldCBjaGlsZCA9IGFzY2VuZGluZyA/IGZpYmVyLnJldHVybiA6IGZpYmVyLmNoaWxkO1xuICB3aGlsZSAoY2hpbGQpIHtcbiAgICBjb25zdCBtYXRjaCA9IHRyYXZlcnNlRmliZXIoY2hpbGQsIHNlbGVjdG9yLCBhc2NlbmRpbmcpO1xuICAgIGlmIChtYXRjaCkgcmV0dXJuIG1hdGNoO1xuICAgIGNoaWxkID0gYXNjZW5kaW5nID8gbnVsbCA6IGNoaWxkLnNpYmxpbmc7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xudmFyIGdldFRpbWluZ3MgPSAoZmliZXIpID0+IHtcbiAgY29uc3QgdG90YWxUaW1lID0gZmliZXI/LmFjdHVhbER1cmF0aW9uID8/IDA7XG4gIGxldCBzZWxmVGltZSA9IHRvdGFsVGltZTtcbiAgbGV0IGNoaWxkID0gZmliZXI/LmNoaWxkID8/IG51bGw7XG4gIHdoaWxlICh0b3RhbFRpbWUgPiAwICYmIGNoaWxkICE9IG51bGwpIHtcbiAgICBzZWxmVGltZSAtPSBjaGlsZC5hY3R1YWxEdXJhdGlvbiA/PyAwO1xuICAgIGNoaWxkID0gY2hpbGQuc2libGluZztcbiAgfVxuICByZXR1cm4geyBzZWxmVGltZSwgdG90YWxUaW1lIH07XG59O1xudmFyIGhhc01lbW9DYWNoZSA9IChmaWJlcikgPT4ge1xuICByZXR1cm4gQm9vbGVhbihcbiAgICBmaWJlci51cGRhdGVRdWV1ZT8ubWVtb0NhY2hlXG4gICk7XG59O1xudmFyIGdldFR5cGUgPSAodHlwZSkgPT4ge1xuICBjb25zdCBjdXJyZW50VHlwZSA9IHR5cGU7XG4gIGlmICh0eXBlb2YgY3VycmVudFR5cGUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHJldHVybiBjdXJyZW50VHlwZTtcbiAgfVxuICBpZiAodHlwZW9mIGN1cnJlbnRUeXBlID09PSBcIm9iamVjdFwiICYmIGN1cnJlbnRUeXBlKSB7XG4gICAgcmV0dXJuIGdldFR5cGUoXG4gICAgICBjdXJyZW50VHlwZS50eXBlIHx8IGN1cnJlbnRUeXBlLnJlbmRlclxuICAgICk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xudmFyIGdldERpc3BsYXlOYW1lID0gKHR5cGUpID0+IHtcbiAgY29uc3QgY3VycmVudFR5cGUgPSB0eXBlO1xuICBpZiAodHlwZW9mIGN1cnJlbnRUeXBlICE9PSBcImZ1bmN0aW9uXCIgJiYgISh0eXBlb2YgY3VycmVudFR5cGUgPT09IFwib2JqZWN0XCIgJiYgY3VycmVudFR5cGUpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgbmFtZSA9IGN1cnJlbnRUeXBlLmRpc3BsYXlOYW1lIHx8IGN1cnJlbnRUeXBlLm5hbWUgfHwgbnVsbDtcbiAgaWYgKG5hbWUpIHJldHVybiBuYW1lO1xuICBjb25zdCB1bndyYXBwZWRUeXBlID0gZ2V0VHlwZShjdXJyZW50VHlwZSk7XG4gIGlmICghdW53cmFwcGVkVHlwZSkgcmV0dXJuIG51bGw7XG4gIHJldHVybiB1bndyYXBwZWRUeXBlLmRpc3BsYXlOYW1lIHx8IHVud3JhcHBlZFR5cGUubmFtZSB8fCBudWxsO1xufTtcbnZhciBkZXRlY3RSZWFjdEJ1aWxkVHlwZSA9IChyZW5kZXJlcikgPT4ge1xuICB0cnkge1xuICAgIGlmICh0eXBlb2YgcmVuZGVyZXIudmVyc2lvbiA9PT0gXCJzdHJpbmdcIiAmJiByZW5kZXJlci5idW5kbGVUeXBlID4gMCkge1xuICAgICAgcmV0dXJuIFwiZGV2ZWxvcG1lbnRcIjtcbiAgICB9XG4gIH0gY2F0Y2gge1xuICB9XG4gIHJldHVybiBcInByb2R1Y3Rpb25cIjtcbn07XG52YXIgaXNJbnN0cnVtZW50YXRpb25BY3RpdmUgPSAoKSA9PiB7XG4gIGNvbnN0IHJkdEhvb2sgPSBnZXRSRFRIb29rKCk7XG4gIHJldHVybiBCb29sZWFuKHJkdEhvb2suX2luc3RydW1lbnRhdGlvbklzQWN0aXZlKSB8fCBpc1JlYWxSZWFjdERldnRvb2xzKCkgfHwgaXNSZWFjdFJlZnJlc2goKTtcbn07XG52YXIgZmliZXJJZCA9IDA7XG52YXIgZmliZXJJZE1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xudmFyIHNldEZpYmVySWQgPSAoZmliZXIsIGlkID0gZmliZXJJZCsrKSA9PiB7XG4gIGZpYmVySWRNYXAuc2V0KGZpYmVyLCBpZCk7XG59O1xudmFyIGdldEZpYmVySWQgPSAoZmliZXIpID0+IHtcbiAgbGV0IGlkID0gZmliZXJJZE1hcC5nZXQoZmliZXIpO1xuICBpZiAoIWlkICYmIGZpYmVyLmFsdGVybmF0ZSkge1xuICAgIGlkID0gZmliZXJJZE1hcC5nZXQoZmliZXIuYWx0ZXJuYXRlKTtcbiAgfVxuICBpZiAoIWlkKSB7XG4gICAgaWQgPSBmaWJlcklkKys7XG4gICAgc2V0RmliZXJJZChmaWJlciwgaWQpO1xuICB9XG4gIHJldHVybiBpZDtcbn07XG52YXIgbW91bnRGaWJlclJlY3Vyc2l2ZWx5ID0gKG9uUmVuZGVyLCBmaXJzdENoaWxkLCB0cmF2ZXJzZVNpYmxpbmdzKSA9PiB7XG4gIGxldCBmaWJlciA9IGZpcnN0Q2hpbGQ7XG4gIHdoaWxlIChmaWJlciAhPSBudWxsKSB7XG4gICAgaWYgKCFmaWJlcklkTWFwLmhhcyhmaWJlcikpIHtcbiAgICAgIGdldEZpYmVySWQoZmliZXIpO1xuICAgIH1cbiAgICBjb25zdCBzaG91bGRJbmNsdWRlSW5UcmVlID0gIXNob3VsZEZpbHRlckZpYmVyKGZpYmVyKTtcbiAgICBpZiAoc2hvdWxkSW5jbHVkZUluVHJlZSAmJiBkaWRGaWJlclJlbmRlcihmaWJlcikpIHtcbiAgICAgIG9uUmVuZGVyKGZpYmVyLCBcIm1vdW50XCIpO1xuICAgIH1cbiAgICBpZiAoZmliZXIudGFnID09PSBTdXNwZW5zZUNvbXBvbmVudFRhZykge1xuICAgICAgY29uc3QgaXNUaW1lZE91dCA9IGZpYmVyLm1lbW9pemVkU3RhdGUgIT09IG51bGw7XG4gICAgICBpZiAoaXNUaW1lZE91dCkge1xuICAgICAgICBjb25zdCBwcmltYXJ5Q2hpbGRGcmFnbWVudCA9IGZpYmVyLmNoaWxkO1xuICAgICAgICBjb25zdCBmYWxsYmFja0NoaWxkRnJhZ21lbnQgPSBwcmltYXJ5Q2hpbGRGcmFnbWVudCA/IHByaW1hcnlDaGlsZEZyYWdtZW50LnNpYmxpbmcgOiBudWxsO1xuICAgICAgICBpZiAoZmFsbGJhY2tDaGlsZEZyYWdtZW50KSB7XG4gICAgICAgICAgY29uc3QgZmFsbGJhY2tDaGlsZCA9IGZhbGxiYWNrQ2hpbGRGcmFnbWVudC5jaGlsZDtcbiAgICAgICAgICBpZiAoZmFsbGJhY2tDaGlsZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgbW91bnRGaWJlclJlY3Vyc2l2ZWx5KG9uUmVuZGVyLCBmYWxsYmFja0NoaWxkLCBmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgcHJpbWFyeUNoaWxkID0gbnVsbDtcbiAgICAgICAgaWYgKGZpYmVyLmNoaWxkICE9PSBudWxsKSB7XG4gICAgICAgICAgcHJpbWFyeUNoaWxkID0gZmliZXIuY2hpbGQuY2hpbGQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByaW1hcnlDaGlsZCAhPT0gbnVsbCkge1xuICAgICAgICAgIG1vdW50RmliZXJSZWN1cnNpdmVseShvblJlbmRlciwgcHJpbWFyeUNoaWxkLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGZpYmVyLmNoaWxkICE9IG51bGwpIHtcbiAgICAgIG1vdW50RmliZXJSZWN1cnNpdmVseShvblJlbmRlciwgZmliZXIuY2hpbGQsIHRydWUpO1xuICAgIH1cbiAgICBmaWJlciA9IHRyYXZlcnNlU2libGluZ3MgPyBmaWJlci5zaWJsaW5nIDogbnVsbDtcbiAgfVxufTtcbnZhciB1cGRhdGVGaWJlclJlY3Vyc2l2ZWx5ID0gKG9uUmVuZGVyLCBuZXh0RmliZXIsIHByZXZGaWJlciwgcGFyZW50RmliZXIpID0+IHtcbiAgaWYgKCFmaWJlcklkTWFwLmhhcyhuZXh0RmliZXIpKSB7XG4gICAgZ2V0RmliZXJJZChuZXh0RmliZXIpO1xuICB9XG4gIGlmICghcHJldkZpYmVyKSByZXR1cm47XG4gIGlmICghZmliZXJJZE1hcC5oYXMocHJldkZpYmVyKSkge1xuICAgIGdldEZpYmVySWQocHJldkZpYmVyKTtcbiAgfVxuICBjb25zdCBpc1N1c3BlbnNlID0gbmV4dEZpYmVyLnRhZyA9PT0gU3VzcGVuc2VDb21wb25lbnRUYWc7XG4gIGNvbnN0IHNob3VsZEluY2x1ZGVJblRyZWUgPSAhc2hvdWxkRmlsdGVyRmliZXIobmV4dEZpYmVyKTtcbiAgaWYgKHNob3VsZEluY2x1ZGVJblRyZWUgJiYgZGlkRmliZXJSZW5kZXIobmV4dEZpYmVyKSkge1xuICAgIG9uUmVuZGVyKG5leHRGaWJlciwgXCJ1cGRhdGVcIik7XG4gIH1cbiAgY29uc3QgcHJldkRpZFRpbWVvdXQgPSBpc1N1c3BlbnNlICYmIHByZXZGaWJlci5tZW1vaXplZFN0YXRlICE9PSBudWxsO1xuICBjb25zdCBuZXh0RGlkVGltZU91dCA9IGlzU3VzcGVuc2UgJiYgbmV4dEZpYmVyLm1lbW9pemVkU3RhdGUgIT09IG51bGw7XG4gIGlmIChwcmV2RGlkVGltZW91dCAmJiBuZXh0RGlkVGltZU91dCkge1xuICAgIGNvbnN0IG5leHRGYWxsYmFja0NoaWxkU2V0ID0gbmV4dEZpYmVyLmNoaWxkPy5zaWJsaW5nID8/IG51bGw7XG4gICAgY29uc3QgcHJldkZhbGxiYWNrQ2hpbGRTZXQgPSBwcmV2RmliZXIuY2hpbGQ/LnNpYmxpbmcgPz8gbnVsbDtcbiAgICBpZiAobmV4dEZhbGxiYWNrQ2hpbGRTZXQgIT09IG51bGwgJiYgcHJldkZhbGxiYWNrQ2hpbGRTZXQgIT09IG51bGwpIHtcbiAgICAgIHVwZGF0ZUZpYmVyUmVjdXJzaXZlbHkoXG4gICAgICAgIG9uUmVuZGVyLFxuICAgICAgICBuZXh0RmFsbGJhY2tDaGlsZFNldCxcbiAgICAgICAgcHJldkZhbGxiYWNrQ2hpbGRTZXQpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChwcmV2RGlkVGltZW91dCAmJiAhbmV4dERpZFRpbWVPdXQpIHtcbiAgICBjb25zdCBuZXh0UHJpbWFyeUNoaWxkU2V0ID0gbmV4dEZpYmVyLmNoaWxkO1xuICAgIGlmIChuZXh0UHJpbWFyeUNoaWxkU2V0ICE9PSBudWxsKSB7XG4gICAgICBtb3VudEZpYmVyUmVjdXJzaXZlbHkob25SZW5kZXIsIG5leHRQcmltYXJ5Q2hpbGRTZXQsIHRydWUpO1xuICAgIH1cbiAgfSBlbHNlIGlmICghcHJldkRpZFRpbWVvdXQgJiYgbmV4dERpZFRpbWVPdXQpIHtcbiAgICB1bm1vdW50RmliZXJDaGlsZHJlblJlY3Vyc2l2ZWx5KG9uUmVuZGVyLCBwcmV2RmliZXIpO1xuICAgIGNvbnN0IG5leHRGYWxsYmFja0NoaWxkU2V0ID0gbmV4dEZpYmVyLmNoaWxkPy5zaWJsaW5nID8/IG51bGw7XG4gICAgaWYgKG5leHRGYWxsYmFja0NoaWxkU2V0ICE9PSBudWxsKSB7XG4gICAgICBtb3VudEZpYmVyUmVjdXJzaXZlbHkob25SZW5kZXIsIG5leHRGYWxsYmFja0NoaWxkU2V0LCB0cnVlKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAobmV4dEZpYmVyLmNoaWxkICE9PSBwcmV2RmliZXIuY2hpbGQpIHtcbiAgICBsZXQgbmV4dENoaWxkID0gbmV4dEZpYmVyLmNoaWxkO1xuICAgIHdoaWxlIChuZXh0Q2hpbGQpIHtcbiAgICAgIGlmIChuZXh0Q2hpbGQuYWx0ZXJuYXRlKSB7XG4gICAgICAgIGNvbnN0IHByZXZDaGlsZCA9IG5leHRDaGlsZC5hbHRlcm5hdGU7XG4gICAgICAgIHVwZGF0ZUZpYmVyUmVjdXJzaXZlbHkoXG4gICAgICAgICAgb25SZW5kZXIsXG4gICAgICAgICAgbmV4dENoaWxkLFxuICAgICAgICAgIHByZXZDaGlsZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtb3VudEZpYmVyUmVjdXJzaXZlbHkob25SZW5kZXIsIG5leHRDaGlsZCwgZmFsc2UpO1xuICAgICAgfVxuICAgICAgbmV4dENoaWxkID0gbmV4dENoaWxkLnNpYmxpbmc7XG4gICAgfVxuICB9XG59O1xudmFyIHVubW91bnRGaWJlciA9IChvblJlbmRlciwgZmliZXIpID0+IHtcbiAgY29uc3QgaXNSb290ID0gZmliZXIudGFnID09PSBIb3N0Um9vdFRhZztcbiAgaWYgKGlzUm9vdCB8fCAhc2hvdWxkRmlsdGVyRmliZXIoZmliZXIpKSB7XG4gICAgb25SZW5kZXIoZmliZXIsIFwidW5tb3VudFwiKTtcbiAgfVxufTtcbnZhciB1bm1vdW50RmliZXJDaGlsZHJlblJlY3Vyc2l2ZWx5ID0gKG9uUmVuZGVyLCBmaWJlcikgPT4ge1xuICBjb25zdCBpc1RpbWVkT3V0U3VzcGVuc2UgPSBmaWJlci50YWcgPT09IFN1c3BlbnNlQ29tcG9uZW50VGFnICYmIGZpYmVyLm1lbW9pemVkU3RhdGUgIT09IG51bGw7XG4gIGxldCBjaGlsZCA9IGZpYmVyLmNoaWxkO1xuICBpZiAoaXNUaW1lZE91dFN1c3BlbnNlKSB7XG4gICAgY29uc3QgcHJpbWFyeUNoaWxkRnJhZ21lbnQgPSBmaWJlci5jaGlsZDtcbiAgICBjb25zdCBmYWxsYmFja0NoaWxkRnJhZ21lbnQgPSBwcmltYXJ5Q2hpbGRGcmFnbWVudD8uc2libGluZyA/PyBudWxsO1xuICAgIGNoaWxkID0gZmFsbGJhY2tDaGlsZEZyYWdtZW50Py5jaGlsZCA/PyBudWxsO1xuICB9XG4gIHdoaWxlIChjaGlsZCAhPT0gbnVsbCkge1xuICAgIGlmIChjaGlsZC5yZXR1cm4gIT09IG51bGwpIHtcbiAgICAgIHVubW91bnRGaWJlcihvblJlbmRlciwgY2hpbGQpO1xuICAgICAgdW5tb3VudEZpYmVyQ2hpbGRyZW5SZWN1cnNpdmVseShvblJlbmRlciwgY2hpbGQpO1xuICAgIH1cbiAgICBjaGlsZCA9IGNoaWxkLnNpYmxpbmc7XG4gIH1cbn07XG52YXIgY29tbWl0SWQgPSAwO1xudmFyIHJvb3RJbnN0YW5jZU1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xudmFyIHRyYXZlcnNlUmVuZGVyZWRGaWJlcnMgPSAocm9vdCwgb25SZW5kZXIpID0+IHtcbiAgY29uc3QgZmliZXIgPSBcImN1cnJlbnRcIiBpbiByb290ID8gcm9vdC5jdXJyZW50IDogcm9vdDtcbiAgbGV0IHJvb3RJbnN0YW5jZSA9IHJvb3RJbnN0YW5jZU1hcC5nZXQocm9vdCk7XG4gIGlmICghcm9vdEluc3RhbmNlKSB7XG4gICAgcm9vdEluc3RhbmNlID0geyBwcmV2RmliZXI6IG51bGwsIGlkOiBjb21taXRJZCsrIH07XG4gICAgcm9vdEluc3RhbmNlTWFwLnNldChyb290LCByb290SW5zdGFuY2UpO1xuICB9XG4gIGNvbnN0IHsgcHJldkZpYmVyIH0gPSByb290SW5zdGFuY2U7XG4gIGlmICghZmliZXIpIHtcbiAgICB1bm1vdW50RmliZXIob25SZW5kZXIsIGZpYmVyKTtcbiAgfSBlbHNlIGlmIChwcmV2RmliZXIgIT09IG51bGwpIHtcbiAgICBjb25zdCB3YXNNb3VudGVkID0gcHJldkZpYmVyICYmIHByZXZGaWJlci5tZW1vaXplZFN0YXRlICE9IG51bGwgJiYgcHJldkZpYmVyLm1lbW9pemVkU3RhdGUuZWxlbWVudCAhPSBudWxsICYmIC8vIEEgZGVoeWRyYXRlZCByb290IGlzIG5vdCBjb25zaWRlcmVkIG1vdW50ZWRcbiAgICBwcmV2RmliZXIubWVtb2l6ZWRTdGF0ZS5pc0RlaHlkcmF0ZWQgIT09IHRydWU7XG4gICAgY29uc3QgaXNNb3VudGVkID0gZmliZXIubWVtb2l6ZWRTdGF0ZSAhPSBudWxsICYmIGZpYmVyLm1lbW9pemVkU3RhdGUuZWxlbWVudCAhPSBudWxsICYmIC8vIEEgZGVoeWRyYXRlZCByb290IGlzIG5vdCBjb25zaWRlcmVkIG1vdW50ZWRcbiAgICBmaWJlci5tZW1vaXplZFN0YXRlLmlzRGVoeWRyYXRlZCAhPT0gdHJ1ZTtcbiAgICBpZiAoIXdhc01vdW50ZWQgJiYgaXNNb3VudGVkKSB7XG4gICAgICBtb3VudEZpYmVyUmVjdXJzaXZlbHkob25SZW5kZXIsIGZpYmVyLCBmYWxzZSk7XG4gICAgfSBlbHNlIGlmICh3YXNNb3VudGVkICYmIGlzTW91bnRlZCkge1xuICAgICAgdXBkYXRlRmliZXJSZWN1cnNpdmVseShvblJlbmRlciwgZmliZXIsIGZpYmVyLmFsdGVybmF0ZSk7XG4gICAgfSBlbHNlIGlmICh3YXNNb3VudGVkICYmICFpc01vdW50ZWQpIHtcbiAgICAgIHVubW91bnRGaWJlcihvblJlbmRlciwgZmliZXIpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBtb3VudEZpYmVyUmVjdXJzaXZlbHkob25SZW5kZXIsIGZpYmVyLCB0cnVlKTtcbiAgfVxuICByb290SW5zdGFuY2UucHJldkZpYmVyID0gZmliZXI7XG59O1xudmFyIGNyZWF0ZUZpYmVyVmlzaXRvciA9ICh7XG4gIG9uUmVuZGVyXG59KSA9PiB7XG4gIHJldHVybiAoX3JlbmRlcmVySUQsIHJvb3QsIF9zdGF0ZSkgPT4ge1xuICAgIHRyYXZlcnNlUmVuZGVyZWRGaWJlcnMocm9vdCwgb25SZW5kZXIpO1xuICB9O1xufTtcbnZhciBpbnN0cnVtZW50ID0gKG9wdGlvbnMpID0+IHtcbiAgcmV0dXJuIGdldFJEVEhvb2soKCkgPT4ge1xuICAgIGNvbnN0IHJkdEhvb2sgPSBnZXRSRFRIb29rKCk7XG4gICAgb3B0aW9ucy5vbkFjdGl2ZT8uKCk7XG4gICAgcmR0SG9vay5faW5zdHJ1bWVudGF0aW9uU291cmNlID0gb3B0aW9ucy5uYW1lID8/IEJJUFBZX0lOU1RSVU1FTlRBVElPTl9TVFJJTkc7XG4gICAgY29uc3QgcHJldk9uQ29tbWl0RmliZXJSb290ID0gcmR0SG9vay5vbkNvbW1pdEZpYmVyUm9vdDtcbiAgICBpZiAob3B0aW9ucy5vbkNvbW1pdEZpYmVyUm9vdCkge1xuICAgICAgcmR0SG9vay5vbkNvbW1pdEZpYmVyUm9vdCA9IChyZW5kZXJlcklELCByb290LCBwcmlvcml0eSkgPT4ge1xuICAgICAgICBpZiAocHJldk9uQ29tbWl0RmliZXJSb290KVxuICAgICAgICAgIHByZXZPbkNvbW1pdEZpYmVyUm9vdChyZW5kZXJlcklELCByb290LCBwcmlvcml0eSk7XG4gICAgICAgIG9wdGlvbnMub25Db21taXRGaWJlclJvb3Q/LihyZW5kZXJlcklELCByb290LCBwcmlvcml0eSk7XG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBwcmV2T25Db21taXRGaWJlclVubW91bnQgPSByZHRIb29rLm9uQ29tbWl0RmliZXJVbm1vdW50O1xuICAgIGlmIChvcHRpb25zLm9uQ29tbWl0RmliZXJVbm1vdW50KSB7XG4gICAgICByZHRIb29rLm9uQ29tbWl0RmliZXJVbm1vdW50ID0gKHJlbmRlcmVySUQsIHJvb3QpID0+IHtcbiAgICAgICAgaWYgKHByZXZPbkNvbW1pdEZpYmVyVW5tb3VudClcbiAgICAgICAgICBwcmV2T25Db21taXRGaWJlclVubW91bnQocmVuZGVyZXJJRCwgcm9vdCk7XG4gICAgICAgIG9wdGlvbnMub25Db21taXRGaWJlclVubW91bnQ/LihyZW5kZXJlcklELCByb290KTtcbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHByZXZPblBvc3RDb21taXRGaWJlclJvb3QgPSByZHRIb29rLm9uUG9zdENvbW1pdEZpYmVyUm9vdDtcbiAgICBpZiAob3B0aW9ucy5vblBvc3RDb21taXRGaWJlclJvb3QpIHtcbiAgICAgIHJkdEhvb2sub25Qb3N0Q29tbWl0RmliZXJSb290ID0gKHJlbmRlcmVySUQsIHJvb3QpID0+IHtcbiAgICAgICAgaWYgKHByZXZPblBvc3RDb21taXRGaWJlclJvb3QpXG4gICAgICAgICAgcHJldk9uUG9zdENvbW1pdEZpYmVyUm9vdChyZW5kZXJlcklELCByb290KTtcbiAgICAgICAgb3B0aW9ucy5vblBvc3RDb21taXRGaWJlclJvb3Q/LihyZW5kZXJlcklELCByb290KTtcbiAgICAgIH07XG4gICAgfVxuICB9KTtcbn07XG52YXIgZ2V0RmliZXJGcm9tSG9zdEluc3RhbmNlID0gKGhvc3RJbnN0YW5jZSkgPT4ge1xuICBjb25zdCByZHRIb29rID0gZ2V0UkRUSG9vaygpO1xuICBmb3IgKGNvbnN0IHJlbmRlcmVyIG9mIHJkdEhvb2sucmVuZGVyZXJzLnZhbHVlcygpKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGZpYmVyID0gcmVuZGVyZXIuZmluZEZpYmVyQnlIb3N0SW5zdGFuY2U/Lihob3N0SW5zdGFuY2UpO1xuICAgICAgaWYgKGZpYmVyKSByZXR1cm4gZmliZXI7XG4gICAgfSBjYXRjaCB7XG4gICAgfVxuICB9XG4gIGlmICh0eXBlb2YgaG9zdEluc3RhbmNlID09PSBcIm9iamVjdFwiICYmIGhvc3RJbnN0YW5jZSAhPSBudWxsKSB7XG4gICAgaWYgKFwiX3JlYWN0Um9vdENvbnRhaW5lclwiIGluIGhvc3RJbnN0YW5jZSkge1xuICAgICAgcmV0dXJuIGhvc3RJbnN0YW5jZS5fcmVhY3RSb290Q29udGFpbmVyPy5faW50ZXJuYWxSb290Py5jdXJyZW50Py5jaGlsZDtcbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXkgaW4gaG9zdEluc3RhbmNlKSB7XG4gICAgICBpZiAoa2V5LnN0YXJ0c1dpdGgoXCJfX3JlYWN0SW50ZXJuYWxJbnN0YW5jZSRcIikgfHwga2V5LnN0YXJ0c1dpdGgoXCJfX3JlYWN0RmliZXJcIikpIHtcbiAgICAgICAgcmV0dXJuIGhvc3RJbnN0YW5jZVtrZXldIHx8IG51bGw7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufTtcbnZhciBzZWN1cmUgPSAob3B0aW9ucywgc2VjdXJlT3B0aW9ucyA9IHt9KSA9PiB7XG4gIGNvbnN0IG9uQWN0aXZlID0gb3B0aW9ucy5vbkFjdGl2ZTtcbiAgY29uc3QgaXNSRFRIb29rSW5zdGFsbGVkID0gaGFzUkRUSG9vaygpO1xuICBjb25zdCBpc1VzaW5nUmVhbFJlYWN0RGV2dG9vbHMgPSBpc1JlYWxSZWFjdERldnRvb2xzKCk7XG4gIGNvbnN0IGlzVXNpbmdSZWFjdFJlZnJlc2ggPSBpc1JlYWN0UmVmcmVzaCgpO1xuICBsZXQgdGltZW91dDtcbiAgbGV0IGlzUHJvZHVjdGlvbiA9IGZhbHNlO1xuICBvcHRpb25zLm9uQWN0aXZlID0gKCkgPT4ge1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICBsZXQgaXNTZWN1cmUgPSB0cnVlO1xuICAgIHRyeSB7XG4gICAgICBvbkFjdGl2ZT8uKCk7XG4gICAgICBjb25zdCByZHRIb29rID0gZ2V0UkRUSG9vaygpO1xuICAgICAgZm9yIChjb25zdCByZW5kZXJlciBvZiByZHRIb29rLnJlbmRlcmVycy52YWx1ZXMoKSkge1xuICAgICAgICBjb25zdCBbbWFqb3JWZXJzaW9uXSA9IHJlbmRlcmVyLnZlcnNpb24uc3BsaXQoXCIuXCIpO1xuICAgICAgICBpZiAoTnVtYmVyKG1ham9yVmVyc2lvbikgPCAoc2VjdXJlT3B0aW9ucy5taW5SZWFjdE1ham9yVmVyc2lvbiA/PyAxNykpIHtcbiAgICAgICAgICBpc1NlY3VyZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJ1aWxkVHlwZSA9IGRldGVjdFJlYWN0QnVpbGRUeXBlKHJlbmRlcmVyKTtcbiAgICAgICAgaWYgKGJ1aWxkVHlwZSAhPT0gXCJkZXZlbG9wbWVudFwiKSB7XG4gICAgICAgICAgaXNQcm9kdWN0aW9uID0gdHJ1ZTtcbiAgICAgICAgICBpZiAoIXNlY3VyZU9wdGlvbnMuZGFuZ2Vyb3VzbHlSdW5JblByb2R1Y3Rpb24pIHtcbiAgICAgICAgICAgIGlzU2VjdXJlID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBzZWN1cmVPcHRpb25zLm9uRXJyb3I/LihlcnIpO1xuICAgIH1cbiAgICBpZiAoIWlzU2VjdXJlKSB7XG4gICAgICBvcHRpb25zLm9uQ29tbWl0RmliZXJSb290ID0gdm9pZCAwO1xuICAgICAgb3B0aW9ucy5vbkNvbW1pdEZpYmVyVW5tb3VudCA9IHZvaWQgMDtcbiAgICAgIG9wdGlvbnMub25Qb3N0Q29tbWl0RmliZXJSb290ID0gdm9pZCAwO1xuICAgICAgb3B0aW9ucy5vbkFjdGl2ZSA9IHZvaWQgMDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG9uQ29tbWl0RmliZXJSb290MiA9IG9wdGlvbnMub25Db21taXRGaWJlclJvb3Q7XG4gICAgICBpZiAob25Db21taXRGaWJlclJvb3QyKSB7XG4gICAgICAgIG9wdGlvbnMub25Db21taXRGaWJlclJvb3QgPSAocmVuZGVyZXJJRCwgcm9vdCwgcHJpb3JpdHkpID0+IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgb25Db21taXRGaWJlclJvb3QyKHJlbmRlcmVySUQsIHJvb3QsIHByaW9yaXR5KTtcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHNlY3VyZU9wdGlvbnMub25FcnJvcj8uKGVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgY29uc3Qgb25Db21taXRGaWJlclVubW91bnQgPSBvcHRpb25zLm9uQ29tbWl0RmliZXJVbm1vdW50O1xuICAgICAgaWYgKG9uQ29tbWl0RmliZXJVbm1vdW50KSB7XG4gICAgICAgIG9wdGlvbnMub25Db21taXRGaWJlclVubW91bnQgPSAocmVuZGVyZXJJRCwgcm9vdCkgPT4ge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBvbkNvbW1pdEZpYmVyVW5tb3VudChyZW5kZXJlcklELCByb290KTtcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHNlY3VyZU9wdGlvbnMub25FcnJvcj8uKGVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgY29uc3Qgb25Qb3N0Q29tbWl0RmliZXJSb290ID0gb3B0aW9ucy5vblBvc3RDb21taXRGaWJlclJvb3Q7XG4gICAgICBpZiAob25Qb3N0Q29tbWl0RmliZXJSb290KSB7XG4gICAgICAgIG9wdGlvbnMub25Qb3N0Q29tbWl0RmliZXJSb290ID0gKHJlbmRlcmVySUQsIHJvb3QpID0+IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgb25Qb3N0Q29tbWl0RmliZXJSb290KHJlbmRlcmVySUQsIHJvb3QpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgc2VjdXJlT3B0aW9ucy5vbkVycm9yPy4oZXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBzZWN1cmVPcHRpb25zLm9uRXJyb3I/LihlcnIpO1xuICAgIH1cbiAgfTtcbiAgaWYgKCFpc1JEVEhvb2tJbnN0YWxsZWQgJiYgIWlzVXNpbmdSZWFsUmVhY3REZXZ0b29scyAmJiAhaXNVc2luZ1JlYWN0UmVmcmVzaCkge1xuICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICghaXNQcm9kdWN0aW9uKSB7XG4gICAgICAgIHNlY3VyZU9wdGlvbnMub25FcnJvcj8uKCk7XG4gICAgICB9XG4gICAgICBzdG9wKCk7XG4gICAgfSwgc2VjdXJlT3B0aW9ucy5pbnN0YWxsQ2hlY2tUaW1lb3V0ID8/IDEwMCk7XG4gIH1cbiAgcmV0dXJuIG9wdGlvbnM7XG59O1xudmFyIG9uQ29tbWl0RmliZXJSb290ID0gKGhhbmRsZXIpID0+IHtcbiAgcmV0dXJuIGluc3RydW1lbnQoXG4gICAgc2VjdXJlKHtcbiAgICAgIG9uQ29tbWl0RmliZXJSb290OiAoXywgcm9vdCkgPT4ge1xuICAgICAgICBoYW5kbGVyKHJvb3QpO1xuICAgICAgfVxuICAgIH0pXG4gICk7XG59O1xuXG5leHBvcnQgeyBCSVBQWV9JTlNUUlVNRU5UQVRJT05fU1RSSU5HLCBDT05DVVJSRU5UX01PREVfTlVNQkVSLCBDT05DVVJSRU5UX01PREVfU1lNQk9MX1NUUklORywgQ2xhc3NDb21wb25lbnRUYWcsIENvbnRleHRDb25zdW1lclRhZywgREVQUkVDQVRFRF9BU1lOQ19NT0RFX1NZTUJPTF9TVFJJTkcsIERlaHlkcmF0ZWRTdXNwZW5zZUNvbXBvbmVudFRhZywgRUxFTUVOVF9UWVBFX1NZTUJPTF9TVFJJTkcsIEZvcndhcmRSZWZUYWcsIEZyYWdtZW50VGFnLCBGdW5jdGlvbkNvbXBvbmVudFRhZywgSG9zdENvbXBvbmVudFRhZywgSG9zdEhvaXN0YWJsZVRhZywgSG9zdFJvb3RUYWcsIEhvc3RTaW5nbGV0b25UYWcsIEhvc3RUZXh0VGFnLCBJTlNUQUxMX0hPT0tfU0NSSVBUX1NUUklORywgTGVnYWN5SGlkZGVuQ29tcG9uZW50VGFnLCBNZW1vQ29tcG9uZW50VGFnLCBPZmZzY3JlZW5Db21wb25lbnRUYWcsIFNpbXBsZU1lbW9Db21wb25lbnRUYWcsIFN1c3BlbnNlQ29tcG9uZW50VGFnLCBUUkFOU0lUSU9OQUxfRUxFTUVOVF9UWVBFX1NZTUJPTF9TVFJJTkcsIGNyZWF0ZUZpYmVyVmlzaXRvciwgZGV0ZWN0UmVhY3RCdWlsZFR5cGUsIGRpZEZpYmVyQ29tbWl0LCBkaWRGaWJlclJlbmRlciwgZmliZXJJZE1hcCwgZ2V0RGlzcGxheU5hbWUsIGdldEZpYmVyRnJvbUhvc3RJbnN0YW5jZSwgZ2V0RmliZXJJZCwgZ2V0RmliZXJTdGFjaywgZ2V0TXV0YXRlZEhvc3RGaWJlcnMsIGdldE5lYXJlc3RIb3N0RmliZXIsIGdldE5lYXJlc3RIb3N0RmliZXJzLCBnZXRSRFRIb29rLCBnZXRUaW1pbmdzLCBnZXRUeXBlLCBoYXNNZW1vQ2FjaGUsIGhhc1JEVEhvb2ssIGluc3RhbGxSRFRIb29rLCBpbnN0cnVtZW50LCBpc0NvbXBvc2l0ZUZpYmVyLCBpc0hvc3RGaWJlciwgaXNJbnN0cnVtZW50YXRpb25BY3RpdmUsIGlzUmVhY3RSZWZyZXNoLCBpc1JlYWxSZWFjdERldnRvb2xzLCBpc1NlcnZpY2VXb3JrZXJSZWdpc3RlcmVkLCBpc1ZhbGlkRWxlbWVudCwgaXNWYWxpZEZpYmVyLCBtb3VudEZpYmVyUmVjdXJzaXZlbHksIG9uQ29tbWl0RmliZXJSb290LCBwYXRjaFJEVEhvb2ssIHNlY3VyZSwgc2V0RmliZXJJZCwgc2hvdWxkRmlsdGVyRmliZXIsIHRyYXZlcnNlQ29udGV4dHMsIHRyYXZlcnNlRWZmZWN0cywgdHJhdmVyc2VGaWJlciwgdHJhdmVyc2VQcm9wcywgdHJhdmVyc2VSZW5kZXJlZEZpYmVycywgdHJhdmVyc2VTdGF0ZSwgdW5tb3VudEZpYmVyLCB1bm1vdW50RmliZXJDaGlsZHJlblJlY3Vyc2l2ZWx5LCB1cGRhdGVGaWJlclJlY3Vyc2l2ZWx5LCB2ZXJzaW9uIH07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/bippy/dist/chunk-ZF32UKFC.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/bippy/dist/sw.js":
/*!***************************************!*\
  !*** ./node_modules/bippy/dist/sw.js ***!
  \***************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/**\n * @license bippy\n *\n * Copyright (c) Aiden Bai, Million Software, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n// src/sw.ts\n(() => {\n  try {\n    const NO_OP = () => {\n    };\n    const renderers = /* @__PURE__ */ new Map();\n    let id = 0;\n    globalThis.__REACT_DEVTOOLS_GLOBAL_HOOK__ = {\n      checkDCE: NO_OP,\n      supportsFiber: true,\n      supportsFlight: true,\n      hasUnsupportedRendererAttached: false,\n      renderers,\n      onCommitFiberRoot: NO_OP,\n      onCommitFiberUnmount: NO_OP,\n      onPostCommitFiberRoot: NO_OP,\n      inject(renderer) {\n        const nextID = ++id;\n        renderers.set(nextID, renderer);\n        globalThis.__REACT_DEVTOOLS_GLOBAL_HOOK__._instrumentationIsActive = true;\n        return nextID;\n      },\n      _instrumentationIsActive: false\n    };\n  } catch {\n  }\n})();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYmlwcHkvZGlzdC9zdy5qcyIsIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLENBQUMiLCJzb3VyY2VzIjpbIkM6XFxsYXJzX3dvcmtcXGVrc2FtZW5cXGJpYmxpby1jYXNlXFxiaWJsaW9cXG5vZGVfbW9kdWxlc1xcYmlwcHlcXGRpc3RcXHN3LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2UgYmlwcHlcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIEFpZGVuIEJhaSwgTWlsbGlvbiBTb2Z0d2FyZSwgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbi8vIHNyYy9zdy50c1xuKCgpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBOT19PUCA9ICgpID0+IHtcbiAgICB9O1xuICAgIGNvbnN0IHJlbmRlcmVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgbGV0IGlkID0gMDtcbiAgICBnbG9iYWxUaGlzLl9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyA9IHtcbiAgICAgIGNoZWNrRENFOiBOT19PUCxcbiAgICAgIHN1cHBvcnRzRmliZXI6IHRydWUsXG4gICAgICBzdXBwb3J0c0ZsaWdodDogdHJ1ZSxcbiAgICAgIGhhc1Vuc3VwcG9ydGVkUmVuZGVyZXJBdHRhY2hlZDogZmFsc2UsXG4gICAgICByZW5kZXJlcnMsXG4gICAgICBvbkNvbW1pdEZpYmVyUm9vdDogTk9fT1AsXG4gICAgICBvbkNvbW1pdEZpYmVyVW5tb3VudDogTk9fT1AsXG4gICAgICBvblBvc3RDb21taXRGaWJlclJvb3Q6IE5PX09QLFxuICAgICAgaW5qZWN0KHJlbmRlcmVyKSB7XG4gICAgICAgIGNvbnN0IG5leHRJRCA9ICsraWQ7XG4gICAgICAgIHJlbmRlcmVycy5zZXQobmV4dElELCByZW5kZXJlcik7XG4gICAgICAgIGdsb2JhbFRoaXMuX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLl9pbnN0cnVtZW50YXRpb25Jc0FjdGl2ZSA9IHRydWU7XG4gICAgICAgIHJldHVybiBuZXh0SUQ7XG4gICAgICB9LFxuICAgICAgX2luc3RydW1lbnRhdGlvbklzQWN0aXZlOiBmYWxzZVxuICAgIH07XG4gIH0gY2F0Y2gge1xuICB9XG59KSgpO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/bippy/dist/sw.js\n");

/***/ })

};
;